<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Linux学习笔记 | IT小王</title><meta name="description" content="Linux学习笔记"><meta name="keywords" content="Linux"><meta name="author" content="IT小王"><meta name="copyright" content="IT小王"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.svg"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux学习笔记"><meta name="twitter:description" content="Linux学习笔记"><meta name="twitter:image" content="https://wangbowen.cn/postImages/LinuxCover.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Linux学习笔记"><meta property="og:url" content="https://wangbowen.cn/2020/02/28/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><meta property="og:site_name" content="IT小王"><meta property="og:description" content="Linux学习笔记"><meta property="og:image" content="https://wangbowen.cn/postImages/LinuxCover.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://wangbowen.cn/2020/02/28/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="prev" title="Oracle学习笔记" href="https://wangbowen.cn/2020/03/02/Oracle%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="next" title="Hive学习笔记" href="https://wangbowen.cn/2020/02/27/Hive%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"ELVDUY5WGR","apiKey":"55783f8f2945106559981cc355ad5d57","indexName":"hexoSearch","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"http://wangbowen.cn/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"top-center"},
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">IT小王</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">40</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">25</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">29</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Linux学习笔记"><span class="toc_mobile_items-text">Linux学习笔记</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#一、安装"><span class="toc_mobile_items-text">一、安装</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#二、系统介绍"><span class="toc_mobile_items-text">二、系统介绍</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-1-目录结构"><span class="toc_mobile_items-text">2.1 目录结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-2-运行级"><span class="toc_mobile_items-text">2.2 运行级</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-3-守护进程"><span class="toc_mobile_items-text">2.3 守护进程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-4-引导与启动"><span class="toc_mobile_items-text">2.4 引导与启动</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#三、系统基本命令"><span class="toc_mobile_items-text">三、系统基本命令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-1-man-系统调用使用手册"><span class="toc_mobile_items-text">3.1 man 系统调用使用手册</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-2-系统时间"><span class="toc_mobile_items-text">3.2 系统时间</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-2-1-获取系统当前时间"><span class="toc_mobile_items-text">3.2.1 获取系统当前时间</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-2-2-校准时间"><span class="toc_mobile_items-text">3.2.2 校准时间</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-2-3-系统运行时间"><span class="toc_mobile_items-text">3.2.3 系统运行时间</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-3-日历"><span class="toc_mobile_items-text">3.3 日历</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-4-计算器"><span class="toc_mobile_items-text">3.4 计算器</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-5-系统资源"><span class="toc_mobile_items-text">3.5 系统资源</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-5-1-top-资源占用进程"><span class="toc_mobile_items-text">3.5.1 top 资源占用进程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-5-2-ps-进程状态"><span class="toc_mobile_items-text">3.5.2 ps 进程状态</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-5-3-free-内存使用情况"><span class="toc_mobile_items-text">3.5.3 free 内存使用情况</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-5-4-vmstat-系统负载"><span class="toc_mobile_items-text">3.5.4 vmstat 系统负载</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-5-5-df-系统资源使用情况"><span class="toc_mobile_items-text">3.5.5 df 系统资源使用情况</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-6-who-查看系统登录用户"><span class="toc_mobile_items-text">3.6 who 查看系统登录用户</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-7-关机、重启"><span class="toc_mobile_items-text">3.7 关机、重启</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#四、Linux-基础操作"><span class="toc_mobile_items-text">四、Linux 基础操作</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-1-tab-命令补全"><span class="toc_mobile_items-text">4.1 tab 命令补全</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-2-alias-别名"><span class="toc_mobile_items-text">4.2 alias 别名</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-3-clear-清屏"><span class="toc_mobile_items-text">4.3 clear 清屏</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-4-pwd-打印当前目录"><span class="toc_mobile_items-text">4.4 pwd 打印当前目录</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-5-sudo-临时超级管理权限"><span class="toc_mobile_items-text">4.5 sudo 临时超级管理权限</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-6-PS1-一级提示符"><span class="toc_mobile_items-text">4.6 $PS1 一级提示符</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-7-touch-创建文件"><span class="toc_mobile_items-text">4.7 touch 创建文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-8-mkdir-创建目录"><span class="toc_mobile_items-text">4.8 mkdir 创建目录</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-9-ln-链接"><span class="toc_mobile_items-text">4.9 ln 链接</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-10-ls-文件列表"><span class="toc_mobile_items-text">4.10 ls 文件列表</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-11-cp-拷贝文件"><span class="toc_mobile_items-text">4.11 cp 拷贝文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-12-mv-移动-重命名-文件"><span class="toc_mobile_items-text">4.12 mv 移动(重命名)文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-13-rm-删除文件"><span class="toc_mobile_items-text">4.13 rm 删除文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-14-cd-改变当前目录"><span class="toc_mobile_items-text">4.14 cd 改变当前目录</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-15-rsync-数据备份工具"><span class="toc_mobile_items-text">4.15  rsync 数据备份工具</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-16-find-遍历目录树"><span class="toc_mobile_items-text">4.16 find 遍历目录树</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-17-tar-文件归档"><span class="toc_mobile_items-text">4.17 tar 文件归档</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-18-程序后台挂起与恢复"><span class="toc_mobile_items-text">4.18 程序后台挂起与恢复</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-19-crontab-定时任务"><span class="toc_mobile_items-text">4.19 crontab 定时任务</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#五、用户管理"><span class="toc_mobile_items-text">五、用户管理</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-1-用户-组-配置文件"><span class="toc_mobile_items-text">5.1 用户(组)配置文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-2-用户"><span class="toc_mobile_items-text">5.2 用户</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-2-1-useradd-创建新用户"><span class="toc_mobile_items-text">5.2.1 useradd 创建新用户</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-2-2-passwd-更改密码"><span class="toc_mobile_items-text">5.2.2 passwd 更改密码</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-2-3-id-查看用户信息"><span class="toc_mobile_items-text">5.2.3 id 查看用户信息</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-2-4-su-切换用户"><span class="toc_mobile_items-text">5.2.4 su 切换用户</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-2-5-userdel-删除用户"><span class="toc_mobile_items-text">5.2.5 userdel 删除用户</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-3-组"><span class="toc_mobile_items-text">5.3 组</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-3-1-groupadd-添加组"><span class="toc_mobile_items-text">5.3.1 groupadd 添加组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-3-2-groupdel-删除组"><span class="toc_mobile_items-text">5.3.2 groupdel 删除组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-3-3-usermod-修改用户所属组"><span class="toc_mobile_items-text">5.3.3 usermod 修改用户所属组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-3-4-usermod-修改用户家目录"><span class="toc_mobile_items-text">5.3.4 usermod 修改用户家目录</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#5-3-5-gpasswd-从组中添加、移除用户"><span class="toc_mobile_items-text">5.3.5 gpasswd 从组中添加、移除用户</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#六、文本操作"><span class="toc_mobile_items-text">六、文本操作</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-1-重定向"><span class="toc_mobile_items-text">6.1 重定向</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-2-管道机制"><span class="toc_mobile_items-text">6.2 管道机制</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-3-more-amp-less"><span class="toc_mobile_items-text">6.3 more&amp;less</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-4-cat-amp-od"><span class="toc_mobile_items-text">6.4 cat &amp; od</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-5-echo"><span class="toc_mobile_items-text">6.5 echo</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-6-head-amp-tail-显示文件头尾"><span class="toc_mobile_items-text">6.6 head &amp; tail 显示文件头尾</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-7-tee-抄送"><span class="toc_mobile_items-text">6.7 tee 抄送</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-8-wc-字计数"><span class="toc_mobile_items-text">6.8 wc 字计数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-9-sort-排序"><span class="toc_mobile_items-text">6.9 sort 排序</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-10-tr-翻译字符"><span class="toc_mobile_items-text">6.10 tr 翻译字符</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-11-正则表达式相关命令"><span class="toc_mobile_items-text">6.11 正则表达式相关命令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#6-11-1-正则表达式"><span class="toc_mobile_items-text">6.11.1 正则表达式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#6-11-2-grep"><span class="toc_mobile_items-text">6.11.2 grep</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#6-11-3-sed"><span class="toc_mobile_items-text">6.11.3 sed</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#6-11-4-awk"><span class="toc_mobile_items-text">6.11.4 awk</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-12-vi-编辑器"><span class="toc_mobile_items-text">6.12 vi 编辑器</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#七、文件目录管理"><span class="toc_mobile_items-text">七、文件目录管理</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#7-1-文件信息"><span class="toc_mobile_items-text">7.1 文件信息</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#7-2-文件比较"><span class="toc_mobile_items-text">7.2 文件比较</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#7-3-文件权限管理"><span class="toc_mobile_items-text">7.3 文件权限管理</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#7-3-1-chown-修改所有者"><span class="toc_mobile_items-text">7.3.1 chown 修改所有者</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#7-3-2-chgrp-修改所在组"><span class="toc_mobile_items-text">7.3.2 chgrp 修改所在组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#7-3-3-同时修改所有者和所在组"><span class="toc_mobile_items-text">7.3.3 同时修改所有者和所在组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#7-3-4-chmod-修改文件权限"><span class="toc_mobile_items-text">7.3.4 chmod 修改文件权限</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#7-4-STICKY-粘着位-防删除"><span class="toc_mobile_items-text">7.4 STICKY 粘着位(防删除)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#7-5-SUID"><span class="toc_mobile_items-text">7.5 SUID</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#八、网络管理"><span class="toc_mobile_items-text">八、网络管理</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#8-1-ip-addr-IP配置信息"><span class="toc_mobile_items-text">8.1 ip addr IP配置信息</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#8-2-ping-计算机连通性"><span class="toc_mobile_items-text">8.2 ping 计算机连通性</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#8-3-netstat-网络-端口-状态"><span class="toc_mobile_items-text">8.3 netstat 网络(端口)状态</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#8-4-hostname-hosts-主机名、映射"><span class="toc_mobile_items-text">8.4 hostname&#x2F;hosts 主机名、映射</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#8-5-firewalld-防火墙"><span class="toc_mobile_items-text">8.5 firewalld 防火墙</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#九、程序命令"><span class="toc_mobile_items-text">九、程序命令</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#9-1-运行时获取信息方式"><span class="toc_mobile_items-text">9.1 运行时获取信息方式</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#9-2-启动-bash"><span class="toc_mobile_items-text">9.2 启动 bash</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#9-3-Shell-编程"><span class="toc_mobile_items-text">9.3 Shell 编程</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-1-变量"><span class="toc_mobile_items-text">9.3.1 变量</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-2-命令替换"><span class="toc_mobile_items-text">9.3.2 命令替换</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-3-位置参数"><span class="toc_mobile_items-text">9.3.3 位置参数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-4-字符串"><span class="toc_mobile_items-text">9.3.4 字符串</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-5-数组"><span class="toc_mobile_items-text">9.3.5 数组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-6-注释"><span class="toc_mobile_items-text">9.3.6 注释</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-7-流程控制"><span class="toc_mobile_items-text">9.3.7 流程控制</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#条件判断"><span class="toc_mobile_items-text">条件判断</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#if-else"><span class="toc_mobile_items-text">if-else</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#case-多条件分支"><span class="toc_mobile_items-text">case 多条件分支</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#for-循环"><span class="toc_mobile_items-text">for 循环</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#while-语句"><span class="toc_mobile_items-text">while 语句</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-8-expr-表达式运算"><span class="toc_mobile_items-text">9.3.8 expr 表达式运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-9-eval-命令"><span class="toc_mobile_items-text">9.3.9 eval 命令</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#9-3-10-函数"><span class="toc_mobile_items-text">9.3.10 函数</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#十、文件系统"><span class="toc_mobile_items-text">十、文件系统</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#10-1-文件系统的创建和安装（挂载）"><span class="toc_mobile_items-text">10.1 文件系统的创建和安装（挂载）</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#10-1-1-U盘挂载"><span class="toc_mobile_items-text">10.1.1 U盘挂载</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#10-1-2-新增磁盘"><span class="toc_mobile_items-text">10.1.2 新增磁盘</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#10-2-文件系统的结构"><span class="toc_mobile_items-text">10.2 文件系统的结构</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#10-3-目录存储结构"><span class="toc_mobile_items-text">10.3 目录存储结构</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux学习笔记"><span class="toc-text">Linux学习笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、安装"><span class="toc-text">一、安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、系统介绍"><span class="toc-text">二、系统介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-目录结构"><span class="toc-text">2.1 目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-运行级"><span class="toc-text">2.2 运行级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-守护进程"><span class="toc-text">2.3 守护进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-引导与启动"><span class="toc-text">2.4 引导与启动</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、系统基本命令"><span class="toc-text">三、系统基本命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-man-系统调用使用手册"><span class="toc-text">3.1 man 系统调用使用手册</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-系统时间"><span class="toc-text">3.2 系统时间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-获取系统当前时间"><span class="toc-text">3.2.1 获取系统当前时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-校准时间"><span class="toc-text">3.2.2 校准时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-系统运行时间"><span class="toc-text">3.2.3 系统运行时间</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-日历"><span class="toc-text">3.3 日历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-计算器"><span class="toc-text">3.4 计算器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-系统资源"><span class="toc-text">3.5 系统资源</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-1-top-资源占用进程"><span class="toc-text">3.5.1 top 资源占用进程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-2-ps-进程状态"><span class="toc-text">3.5.2 ps 进程状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-3-free-内存使用情况"><span class="toc-text">3.5.3 free 内存使用情况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-4-vmstat-系统负载"><span class="toc-text">3.5.4 vmstat 系统负载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-5-df-系统资源使用情况"><span class="toc-text">3.5.5 df 系统资源使用情况</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-who-查看系统登录用户"><span class="toc-text">3.6 who 查看系统登录用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-关机、重启"><span class="toc-text">3.7 关机、重启</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、Linux-基础操作"><span class="toc-text">四、Linux 基础操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-tab-命令补全"><span class="toc-text">4.1 tab 命令补全</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-alias-别名"><span class="toc-text">4.2 alias 别名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-clear-清屏"><span class="toc-text">4.3 clear 清屏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-pwd-打印当前目录"><span class="toc-text">4.4 pwd 打印当前目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-sudo-临时超级管理权限"><span class="toc-text">4.5 sudo 临时超级管理权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-PS1-一级提示符"><span class="toc-text">4.6 $PS1 一级提示符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-touch-创建文件"><span class="toc-text">4.7 touch 创建文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-mkdir-创建目录"><span class="toc-text">4.8 mkdir 创建目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-ln-链接"><span class="toc-text">4.9 ln 链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-10-ls-文件列表"><span class="toc-text">4.10 ls 文件列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-11-cp-拷贝文件"><span class="toc-text">4.11 cp 拷贝文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-12-mv-移动-重命名-文件"><span class="toc-text">4.12 mv 移动(重命名)文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-rm-删除文件"><span class="toc-text">4.13 rm 删除文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-14-cd-改变当前目录"><span class="toc-text">4.14 cd 改变当前目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-15-rsync-数据备份工具"><span class="toc-text">4.15  rsync 数据备份工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-16-find-遍历目录树"><span class="toc-text">4.16 find 遍历目录树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-17-tar-文件归档"><span class="toc-text">4.17 tar 文件归档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-18-程序后台挂起与恢复"><span class="toc-text">4.18 程序后台挂起与恢复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-19-crontab-定时任务"><span class="toc-text">4.19 crontab 定时任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五、用户管理"><span class="toc-text">五、用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-用户-组-配置文件"><span class="toc-text">5.1 用户(组)配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-用户"><span class="toc-text">5.2 用户</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-1-useradd-创建新用户"><span class="toc-text">5.2.1 useradd 创建新用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-2-passwd-更改密码"><span class="toc-text">5.2.2 passwd 更改密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-3-id-查看用户信息"><span class="toc-text">5.2.3 id 查看用户信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-4-su-切换用户"><span class="toc-text">5.2.4 su 切换用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-5-userdel-删除用户"><span class="toc-text">5.2.5 userdel 删除用户</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-组"><span class="toc-text">5.3 组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-1-groupadd-添加组"><span class="toc-text">5.3.1 groupadd 添加组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-2-groupdel-删除组"><span class="toc-text">5.3.2 groupdel 删除组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-3-usermod-修改用户所属组"><span class="toc-text">5.3.3 usermod 修改用户所属组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-4-usermod-修改用户家目录"><span class="toc-text">5.3.4 usermod 修改用户家目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-5-gpasswd-从组中添加、移除用户"><span class="toc-text">5.3.5 gpasswd 从组中添加、移除用户</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、文本操作"><span class="toc-text">六、文本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-重定向"><span class="toc-text">6.1 重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-管道机制"><span class="toc-text">6.2 管道机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-more-amp-less"><span class="toc-text">6.3 more&amp;less</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-cat-amp-od"><span class="toc-text">6.4 cat &amp; od</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-echo"><span class="toc-text">6.5 echo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-head-amp-tail-显示文件头尾"><span class="toc-text">6.6 head &amp; tail 显示文件头尾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-tee-抄送"><span class="toc-text">6.7 tee 抄送</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-8-wc-字计数"><span class="toc-text">6.8 wc 字计数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-sort-排序"><span class="toc-text">6.9 sort 排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10-tr-翻译字符"><span class="toc-text">6.10 tr 翻译字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-11-正则表达式相关命令"><span class="toc-text">6.11 正则表达式相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-11-1-正则表达式"><span class="toc-text">6.11.1 正则表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-11-2-grep"><span class="toc-text">6.11.2 grep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-11-3-sed"><span class="toc-text">6.11.3 sed</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-11-4-awk"><span class="toc-text">6.11.4 awk</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-12-vi-编辑器"><span class="toc-text">6.12 vi 编辑器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、文件目录管理"><span class="toc-text">七、文件目录管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-文件信息"><span class="toc-text">7.1 文件信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-文件比较"><span class="toc-text">7.2 文件比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-文件权限管理"><span class="toc-text">7.3 文件权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-1-chown-修改所有者"><span class="toc-text">7.3.1 chown 修改所有者</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-2-chgrp-修改所在组"><span class="toc-text">7.3.2 chgrp 修改所在组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-3-同时修改所有者和所在组"><span class="toc-text">7.3.3 同时修改所有者和所在组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-4-chmod-修改文件权限"><span class="toc-text">7.3.4 chmod 修改文件权限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-STICKY-粘着位-防删除"><span class="toc-text">7.4 STICKY 粘着位(防删除)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-SUID"><span class="toc-text">7.5 SUID</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#八、网络管理"><span class="toc-text">八、网络管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-ip-addr-IP配置信息"><span class="toc-text">8.1 ip addr IP配置信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-ping-计算机连通性"><span class="toc-text">8.2 ping 计算机连通性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-netstat-网络-端口-状态"><span class="toc-text">8.3 netstat 网络(端口)状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-hostname-hosts-主机名、映射"><span class="toc-text">8.4 hostname&#x2F;hosts 主机名、映射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-5-firewalld-防火墙"><span class="toc-text">8.5 firewalld 防火墙</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#九、程序命令"><span class="toc-text">九、程序命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-运行时获取信息方式"><span class="toc-text">9.1 运行时获取信息方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-启动-bash"><span class="toc-text">9.2 启动 bash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-Shell-编程"><span class="toc-text">9.3 Shell 编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-1-变量"><span class="toc-text">9.3.1 变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-2-命令替换"><span class="toc-text">9.3.2 命令替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-3-位置参数"><span class="toc-text">9.3.3 位置参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-4-字符串"><span class="toc-text">9.3.4 字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-5-数组"><span class="toc-text">9.3.5 数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-6-注释"><span class="toc-text">9.3.6 注释</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-7-流程控制"><span class="toc-text">9.3.7 流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#条件判断"><span class="toc-text">条件判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#if-else"><span class="toc-text">if-else</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#case-多条件分支"><span class="toc-text">case 多条件分支</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for-循环"><span class="toc-text">for 循环</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#while-语句"><span class="toc-text">while 语句</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-8-expr-表达式运算"><span class="toc-text">9.3.8 expr 表达式运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-9-eval-命令"><span class="toc-text">9.3.9 eval 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-3-10-函数"><span class="toc-text">9.3.10 函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#十、文件系统"><span class="toc-text">十、文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-文件系统的创建和安装（挂载）"><span class="toc-text">10.1 文件系统的创建和安装（挂载）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#10-1-1-U盘挂载"><span class="toc-text">10.1.1 U盘挂载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-1-2-新增磁盘"><span class="toc-text">10.1.2 新增磁盘</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-文件系统的结构"><span class="toc-text">10.2 文件系统的结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-目录存储结构"><span class="toc-text">10.3 目录存储结构</span></a></li></ol></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(/postImages/LinuxCover.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">Linux学习笔记</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-02-28<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-04-27</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/Linux/">Linux</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="Linux学习笔记"><a href="#Linux学习笔记" class="headerlink" title="Linux学习笔记"></a>Linux学习笔记</h1><h2 id="一、安装"><a href="#一、安装" class="headerlink" title="一、安装"></a>一、安装</h2><ul>
<li><p>VM15</p>
</li>
<li><p>CentOS7（以下所有操作均以该系统运行）</p>
</li>
</ul>
<p>安装教程：<a href="https://blog.csdn.net/qq_44714603/article/details/88829423" target="_blank" rel="noopener">https://blog.csdn.net/qq_44714603/article/details/88829423</a></p>
<p>后期安装图形界面：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 安装Gnome包</span><br><span class="line">$sudo yum groupinstall &quot;GNOME Desktop&quot; &quot;Graphical Administration Tools&quot;</span><br></pre></td></tr></table></figure></div>

<p>然后设置默认运行级，重启：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$sudo systemctl set-default graphical.target</span><br><span class="line">$sudo reboot</span><br></pre></td></tr></table></figure></div>



<h2 id="二、系统介绍"><a href="#二、系统介绍" class="headerlink" title="二、系统介绍"></a>二、系统介绍</h2><h3 id="2-1-目录结构"><a href="#2-1-目录结构" class="headerlink" title="2.1 目录结构"></a>2.1 目录结构</h3><p>【转】<a href="https://www.runoob.com/linux/linux-system-contents.html" target="_blank" rel="noopener">https://www.runoob.com/linux/linux-system-contents.html</a></p>
<p><strong>系统启动必须：</strong></p>
<ul>
<li><p><strong>/boot：</strong>存放的启动Linux 时使用的内核文件，包括连接文件以及镜像文件。</p>
</li>
<li><p><strong>/etc：</strong>存放<strong>所有</strong>的系统需要的<strong>配置文件</strong>和<strong>子目录列表，</strong>更改目录下的文件可能会导致系统不能启动。</p>
</li>
<li><p><strong>/lib</strong>：存放基本代码库（比如c++库），其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。</p>
</li>
<li><p><strong>/sys</strong>： 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中</p>
</li>
</ul>
<p><strong>指令集合：</strong></p>
<ul>
<li><p><strong>/bin：</strong>存放着最常用的程序和指令</p>
</li>
<li><p><strong>/sbin：</strong>只有系统管理员能使用的程序和指令。</p>
</li>
</ul>
<p><strong>外部文件管理：</strong></p>
<ul>
<li><p><strong>/dev ：</strong>Device(设备)的缩写, 存放的是Linux的外部设备。<strong>注意：</strong>在Linux中访问设备和访问文件的方式是相同的。</p>
</li>
<li><p><strong>/media</strong>：类windows的<strong>其他设备，</strong>例如U盘、光驱等等，识别后linux会把设备放到这个目录下。</p>
</li>
<li><p><strong>/mnt</strong>：临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。</p>
</li>
</ul>
<p><strong>临时文件：</strong></p>
<ul>
<li><p><strong>/run</strong>：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。</p>
</li>
<li><p><strong>/lost+found</strong>：一般情况下为空的，系统非法关机后，这里就存放一些文件。</p>
</li>
<li><p><strong>/tmp</strong>：这个目录是用来存放一些临时文件的。</p>
</li>
</ul>
<p><strong>账户：</strong></p>
<ul>
<li><p><strong>/root</strong>：系统管理员的用户主目录。</p>
</li>
<li><p><strong>/home</strong>：用户的主目录，以用户的账号命名的。</p>
</li>
<li><p><strong>/usr</strong>：用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。</p>
</li>
<li><p><strong>/usr/bin：</strong>系统用户使用的应用程序与指令。</p>
</li>
<li><p><strong>/usr/sbin：</strong>超级用户使用的比较高级的管理程序和系统守护程序。</p>
</li>
<li><p><strong>/usr/src：</strong>内核源代码默认的放置目录。</p>
</li>
</ul>
<p><strong>运行过程中要用：</strong></p>
<ul>
<li><p><strong>/var</strong>：存放经常修改的数据，比如程序运行的日志文件（/var/log 目录下）。</p>
</li>
<li><p><strong>/proc</strong>：管理<strong>内存空间！</strong>虚拟的目录，是系统内存的映射，我们可以直接访问这个目录来，获取系统信息。这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件来做修改。</p>
</li>
</ul>
<p><strong>扩展用的：</strong></p>
<ul>
<li><p><strong>/opt</strong>：默认是空的，我们安装额外软件可以放在这个里面。</p>
</li>
<li><p><strong>/srv</strong>：存放服务启动后需要提取的数据<strong>（不用服务器就是空）</strong></p>
</li>
</ul>
<h3 id="2-2-运行级"><a href="#2-2-运行级" class="headerlink" title="2.2 运行级"></a>2.2 运行级</h3><p>Linux系统在任何时候都运行于某个运行级上,且不同运行级运行的程序和服务都不同,所要完成的工作和要达到的目的都不同。</p>
<p><strong>运行级0</strong>：关闭计算机,使用shutdown-h命令时,系统转入该状态。</p>
<p><strong>运行级1</strong>：单用户模式,不带网络,运行最小系统,用于系统修复,不进行用户身份验证,一般默认运行级不用1</p>
<p><strong>运行级2</strong>：多用户模式(与运行级3相似,不带网络功能)</p>
<p><strong>运行级3</strong>：带有网络支持的多用户模式,常用的运行级别,但是没有图形界面。</p>
<p><strong>运行级4</strong>：系统保留备用</p>
<p><strong>运行级5</strong>：用于自动启动 XFree886系统(图形方式),常用的默认运行级</p>
<p><strong>运行级6</strong>：重新启动,使用shutdown–r命令时,系统转入该状态。</p>
<p><strong>查看当前系统的运行级</strong>：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$systemctl get-default</span><br><span class="line"></span><br><span class="line"># multi-user.target: analogous to runlevel 3</span><br><span class="line"># graphical.target: analogous to runlevel 5</span><br></pre></td></tr></table></figure></div>

<p><strong>注：如果系统启动后,不是运行级5,则启动字符界面(shell),要想进入图形界面可用命令 startx</strong></p>
<p><strong>切换运行级</strong>：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$systemctl set-default TARGET.target</span><br><span class="line"></span><br><span class="line"># multi-user.target: analogous to runlevel 3</span><br><span class="line"># graphical.target: analogous to runlevel 5</span><br></pre></td></tr></table></figure></div>



<p><strong>系统运行级服务</strong>：</p>
<p>可以在 <strong>/etc/rc.d</strong> 目录下查看，不同运行级下的开启的不同服务。</p>
<p>也可以运行一下命令查看：可以看到1-6运行级下，哪些服务会启动。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$chkconfig --list</span><br><span class="line"></span><br><span class="line">netconsole     	0:off	1:off	2:off	3:off	4:off	5:off	6:off</span><br><span class="line">network        	0:off	1:off	2:on	3:on	4:on	5:on	6:off</span><br></pre></td></tr></table></figure></div>



<h3 id="2-3-守护进程"><a href="#2-3-守护进程" class="headerlink" title="2.3 守护进程"></a>2.3 守护进程</h3><p>一般以d结尾，表示daemon。（一般是需要一直运行的程序，如网页服务器）</p>
<p>查看一个服务状态：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl [status | start | stop] serverName</span><br></pre></td></tr></table></figure></div>

<p>如：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$systemctl status sshd</span><br><span class="line">● sshd.service - OpenSSH server daemon</span><br><span class="line">   Loaded: loaded (&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;sshd.service; enabled; vendor preset: enabled)</span><br><span class="line">   Active: active (running) since Wed 2020-04-15 06:22:37 CST; 12min ago</span><br><span class="line">     Docs: man:sshd(8)</span><br><span class="line">           man:sshd_config(5)</span><br><span class="line"> Main PID: 986 (sshd)</span><br><span class="line">   CGroup: &#x2F;system.slice&#x2F;sshd.service</span><br><span class="line">           └─986 &#x2F;usr&#x2F;sbin&#x2F;sshd -D</span><br></pre></td></tr></table></figure></div>



<h3 id="2-4-引导与启动"><a href="#2-4-引导与启动" class="headerlink" title="2.4 引导与启动"></a>2.4 引导与启动</h3><p><a href="/postImages/%E5%BC%95%E5%AF%BC%E5%90%AF%E5%8A%A8.png" data-fancybox="group" data-caption="avatar" class="fancybox"><img alt="avatar" title="avatar" data-src="/postImages/%E5%BC%95%E5%AF%BC%E5%90%AF%E5%8A%A8.png" class="lazyload"></a></p>
<p><a href="/postImages/%E5%BC%95%E5%AF%BC%E5%90%AF%E5%8A%A82.png" data-fancybox="group" data-caption="avatar" class="fancybox"><img alt="avatar" title="avatar" data-src="/postImages/%E5%BC%95%E5%AF%BC%E5%90%AF%E5%8A%A82.png" class="lazyload"></a></p>
<h2 id="三、系统基本命令"><a href="#三、系统基本命令" class="headerlink" title="三、系统基本命令"></a>三、系统基本命令</h2><h3 id="3-1-man-系统调用使用手册"><a href="#3-1-man-系统调用使用手册" class="headerlink" title="3.1 man 系统调用使用手册"></a>3.1 man 系统调用使用手册</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">man name			# 查询name使用说明（下面的命令具体情况都可以进行查看）</span><br><span class="line">man section name	# 查找指定章节的说明</span><br><span class="line">man -k refexp		# 根据正则表达式查找匹配手册目录</span><br></pre></td></tr></table></figure></div>

<p>参数解析：</p>
<p>name：名称</p>
<p>section：章节数（常见编号如下）</p>
<ul>
<li>1：命令</li>
<li>2：系统调用</li>
<li>3：库函数</li>
<li>5：配置文件</li>
</ul>
<p>refexp：正则表达式</p>
<h3 id="3-2-系统时间"><a href="#3-2-系统时间" class="headerlink" title="3.2 系统时间"></a>3.2 系统时间</h3><h4 id="3-2-1-获取系统当前时间"><a href="#3-2-1-获取系统当前时间" class="headerlink" title="3.2.1 获取系统当前时间"></a>3.2.1 获取系统当前时间</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@centos7 ~]# date</span><br><span class="line">Fri Mar  6 00:36:56 CST 2020</span><br><span class="line">[root@centos7 ~]# date &quot;+%Y-%m-%d %H:%M:%S&quot;</span><br><span class="line">2020-03-06 00:34:37</span><br></pre></td></tr></table></figure></div>

<h4 id="3-2-2-校准时间"><a href="#3-2-2-校准时间" class="headerlink" title="3.2.2 校准时间"></a>3.2.2 校准时间</h4><p>需要root权限才能更改：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@centos7 ~]# ntpdate 0.pool.ntp.org</span><br><span class="line"> 5 Mar 16:39:38 ntpdate[2065]: step time server 84.16.67.12 offset -28799.352921 sec</span><br></pre></td></tr></table></figure></div>

<p>如果没有安装ntpdate的话，先执行安装指令：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum -y install ntpdate</span><br></pre></td></tr></table></figure></div>

<h4 id="3-2-3-系统运行时间"><a href="#3-2-3-系统运行时间" class="headerlink" title="3.2.3 系统运行时间"></a>3.2.3 系统运行时间</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ uptime</span><br><span class="line"> 17:02:19 up 52 min,  3 users,  load average: 0.00, 0.01, 0.05</span><br></pre></td></tr></table></figure></div>

<p>结果解析：</p>
<p>17:02:19：当前时间</p>
<p>up 52 min：系统自动后到当前已经运行的时间</p>
<p>3 users：当前有3个用户登录系统</p>
<p>load average: 0.00, 0.01, 0.05：近期1、5、15分钟内系统CPU负载平均调度队列长度</p>
<h3 id="3-3-日历"><a href="#3-3-日历" class="headerlink" title="3.3 日历"></a>3.3 日历</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cal				# 查看当月日历</span><br><span class="line">cal 2020		# 查询指定年日历</span><br><span class="line">cal 10 2019		# 查询指定年月日历</span><br></pre></td></tr></table></figure></div>



<h3 id="3-4-计算器"><a href="#3-4-计算器" class="headerlink" title="3.4 计算器"></a>3.4 计算器</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bc</span><br></pre></td></tr></table></figure></div>

<p>安装指令：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum -y install bc</span><br></pre></td></tr></table></figure></div>



<h3 id="3-5-系统资源"><a href="#3-5-系统资源" class="headerlink" title="3.5 系统资源"></a>3.5 系统资源</h3><h4 id="3-5-1-top-资源占用进程"><a href="#3-5-1-top-资源占用进程" class="headerlink" title="3.5.1 top 资源占用进程"></a>3.5.1 top 资源占用进程</h4><p>top：列出资源占用排名靠前的进程</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure></div>

<h4 id="3-5-2-ps-进程状态"><a href="#3-5-2-ps-进程状态" class="headerlink" title="3.5.2 ps 进程状态"></a>3.5.2 ps 进程状态</h4><p>ps：查阅进程状态</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@centos7 ~]# ps</span><br><span class="line">   PID TTY          TIME CMD</span><br><span class="line">  1955 pts&#x2F;0    00:00:00 bash</span><br><span class="line">  2176 pts&#x2F;0    00:00:00 ps</span><br><span class="line"># 更详细的信息（可以不加e）</span><br><span class="line">[root@centos7 ~]# ps -e</span><br><span class="line">[root@centos7 ~]# ps -ef | more</span><br><span class="line">[root@centos7 ~]# ps -el | more</span><br></pre></td></tr></table></figure></div>

<h4 id="3-5-3-free-内存使用情况"><a href="#3-5-3-free-内存使用情况" class="headerlink" title="3.5.3 free 内存使用情况"></a>3.5.3 free 内存使用情况</h4><p>free：内存使用情况</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">free</span><br></pre></td></tr></table></figure></div>

<h4 id="3-5-4-vmstat-系统负载"><a href="#3-5-4-vmstat-系统负载" class="headerlink" title="3.5.4 vmstat 系统负载"></a>3.5.4 vmstat 系统负载</h4><p>vmstat：了解系统负载</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vmstat</span><br><span class="line">vmstat 1	# 每隔1秒打印一次信息</span><br></pre></td></tr></table></figure></div>

<h4 id="3-5-5-df-系统资源使用情况"><a href="#3-5-5-df-系统资源使用情况" class="headerlink" title="3.5.5 df 系统资源使用情况"></a>3.5.5 df 系统资源使用情况</h4><p>df [-h]</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@s201 &#x2F;home&#x2F;wbw]$df -h</span><br><span class="line">Filesystem               Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                 475M     0  475M   0% &#x2F;dev</span><br><span class="line">tmpfs                    487M     0  487M   0% &#x2F;dev&#x2F;shm</span><br><span class="line">tmpfs                    487M  7.8M  479M   2% &#x2F;run</span><br><span class="line">tmpfs                    487M     0  487M   0% &#x2F;sys&#x2F;fs&#x2F;cgroup</span><br><span class="line">&#x2F;dev&#x2F;mapper&#x2F;centos-root   17G  5.3G   12G  31% &#x2F;</span><br><span class="line">&#x2F;dev&#x2F;sda1               1014M  137M  878M  14% &#x2F;boot</span><br><span class="line">tmpfs                     98M     0   98M   0% &#x2F;run&#x2F;user&#x2F;1000</span><br></pre></td></tr></table></figure></div>



<h3 id="3-6-who-查看系统登录用户"><a href="#3-6-who-查看系统登录用户" class="headerlink" title="3.6 who 查看系统登录用户"></a>3.6 who 查看系统登录用户</h3><p><strong>who：列出当前已登录系统的用户</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ who</span><br><span class="line">root     tty1         2020-03-06 00:11</span><br><span class="line">root     pts&#x2F;0        2020-03-06 00:24 (192.168.174.1)</span><br><span class="line">wbw      pts&#x2F;1        2020-03-05 16:57 (192.168.174.1)</span><br></pre></td></tr></table></figure></div>

<p><strong>tty：打印当前终端设备文件名</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ tty</span><br><span class="line">&#x2F;dev&#x2F;pts&#x2F;1</span><br></pre></td></tr></table></figure></div>

<p><strong>who am i：列出当前终端上登录的用户</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ who am i</span><br><span class="line">wbw      pts&#x2F;1        2020-03-05 16:57 (192.168.174.1)</span><br></pre></td></tr></table></figure></div>

<p><strong>whoami：仅列出当前系统用户名</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ whoami</span><br><span class="line">wbw</span><br></pre></td></tr></table></figure></div>



<h3 id="3-7-关机、重启"><a href="#3-7-关机、重启" class="headerlink" title="3.7 关机、重启"></a>3.7 关机、重启</h3><p><strong>重启</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$reboot</span><br></pre></td></tr></table></figure></div>



<p><strong>关机</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$shutdown [-t sec] [-rkhncfF] time [warning-message]</span><br></pre></td></tr></table></figure></div>

<p>-t sec：发送警告信息。（一个服务器，可能有多个用户连接）</p>
<p>-r：重启</p>
<p>-h：关机</p>
<p>time：可以用绝对时间00:00:00 也可 相对+mm</p>
<h2 id="四、Linux-基础操作"><a href="#四、Linux-基础操作" class="headerlink" title="四、Linux 基础操作"></a>四、Linux 基础操作</h2><h3 id="4-1-tab-命令补全"><a href="#4-1-tab-命令补全" class="headerlink" title="4.1 tab 命令补全"></a>4.1 tab 命令补全</h3><p>只需要打命令的前几个字符，然后按下tab键，会进行自动补全。</p>
<h3 id="4-2-alias-别名"><a href="#4-2-alias-别名" class="headerlink" title="4.2 alias 别名"></a>4.2 alias 别名</h3><p>我们可以对一些命令进行取别名操作：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ alias ll</span><br><span class="line">alias ll&#x3D;&#39;ls -l --color&#x3D;auto&#39;</span><br></pre></td></tr></table></figure></div>

<p>我们还可以自定义命令别名：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ alias wbwll&#x3D;&#39;ls -l&#39;</span><br><span class="line">$ wbwll</span><br><span class="line">total 12</span><br><span class="line">-rw-rw-r--. 1 wbw wbw  58 Mar  5 17:35 filelist.txt</span><br><span class="line">-rw-rw-r--. 1 wbw wbw 106 Mar  5 17:45 file.txt</span><br><span class="line">-rw-rw-r--. 1 wbw wbw  14 Mar  5 18:09 nums.txt</span><br><span class="line">drwxrwxr-x. 2 wbw wbw   6 Mar  5 18:50 work</span><br></pre></td></tr></table></figure></div>

<p>但是换一个终端就失效了，如果想一直实现的话可以修改~/.bashrc文件，在末尾添加：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 别名描述</span><br><span class="line">alias wbwll&#x3D;&#39;ls -l&#39;</span><br></pre></td></tr></table></figure></div>



<h3 id="4-3-clear-清屏"><a href="#4-3-clear-清屏" class="headerlink" title="4.3 clear 清屏"></a>4.3 clear 清屏</h3><p>清空当前屏幕的内容</p>
<h3 id="4-4-pwd-打印当前目录"><a href="#4-4-pwd-打印当前目录" class="headerlink" title="4.4 pwd 打印当前目录"></a>4.4 pwd 打印当前目录</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pwd</span><br><span class="line">&#x2F;home&#x2F;wbw</span><br></pre></td></tr></table></figure></div>



<h3 id="4-5-sudo-临时超级管理权限"><a href="#4-5-sudo-临时超级管理权限" class="headerlink" title="4.5 sudo 临时超级管理权限"></a>4.5 sudo 临时超级管理权限</h3><p><strong>添加普通用户临时使用root权限</strong></p>
<ol>
<li><p>切换root用户</p>
</li>
<li><p>添加sudo文件的写权限</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod u+w &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>修改/etc/sudoers文件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure></div>

<p>添加如下内容：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## Allow root to run any commands anywhere</span><br><span class="line">root    ALL&#x3D;(ALL)       ALL</span><br><span class="line"># 如给XXX添加sudo权限</span><br><span class="line">XXX     ALL&#x3D;(ALL)       ALL</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>撤销sudoers文件写权限</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod u-w &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<p><strong>sudo + command时，提示找不到命令</strong></p>
<ol>
<li><p>切换root用户</p>
</li>
<li><p>添加sudo文件的写权限</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod u+w &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>修改/etc/sudoers文件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure></div>

<p>找到 <code>Defaults env_reset</code> , 将其改为 <code>Defaults !env_reset</code> </p>
</li>
<li><p>撤销sudoers文件写权限</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod u-w &#x2F;etc&#x2F;sudoers</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>切换到当前用户</p>
</li>
<li><p>修改配置文件~/.bashrc</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure></div>

<p>末尾添加</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alias sudo&#x3D;&#39;sudo env PATH&#x3D;$PATH&#39;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>重启系统</p>
</li>
</ol>
<h3 id="4-6-PS1-一级提示符"><a href="#4-6-PS1-一级提示符" class="headerlink" title="4.6 $PS1 一级提示符"></a>4.6 $PS1 一级提示符</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$</span><br></pre></td></tr></table></figure></div>

<p>其中[wbw@centos7 ~]就是一级提示符，我们可以对其自定义修改：</p>
<ol>
<li><p>编辑profile文件，添加环境变量PS1</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[&#x2F;etc&#x2F;profile]</span><br><span class="line">export PS1&#x3D;&#39;[\u@\h &#96;pwd&#96;]\$&#39;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>更新配置</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$&gt;source &#x2F;etc&#x2F;profile</span><br><span class="line">[wbw@centos7 &#x2F;home&#x2F;wbw]$</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<h3 id="4-7-touch-创建文件"><a href="#4-7-touch-创建文件" class="headerlink" title="4.7 touch 创建文件"></a>4.7 touch 创建文件</h3><p>将文件的最后一次修改时间设置为当前时间,但不修改文件内容。例如: touch*.[ch]</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">touch &lt;filePath文件路径&gt;</span><br></pre></td></tr></table></figure></div>



<h3 id="4-8-mkdir-创建目录"><a href="#4-8-mkdir-创建目录" class="headerlink" title="4.8 mkdir 创建目录"></a>4.8 mkdir 创建目录</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir [-p 创建父目录] &lt;dirPath目录路径&gt;</span><br></pre></td></tr></table></figure></div>



<h3 id="4-9-ln-链接"><a href="#4-9-ln-链接" class="headerlink" title="4.9 ln 链接"></a>4.9 ln 链接</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ln [参数][源文件或目录][目标文件或目录]</span><br></pre></td></tr></table></figure></div>

<p><strong>软链接</strong>：</p>
<ul>
<li>1.软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式</li>
<li>2.软链接可以跨文件系统 ，硬链接不可以</li>
<li>3.软链接可以对一个不存在的文件名进行链接</li>
<li>4.软链接可以对目录进行链接</li>
</ul>
<p><strong>硬链接</strong>：</p>
<ul>
<li>1.硬链接，以文件副本的形式存在。但不占用实际空间。</li>
<li>2.不允许给目录创建硬链接</li>
<li>3.硬链接只有在同一个文件系统中才能创建</li>
</ul>
<p><strong>必要参数</strong>：</p>
<ul>
<li>-b 删除，覆盖以前建立的链接</li>
<li>-d 允许超级用户制作目录的硬链接</li>
<li>-f 强制执行</li>
<li>-i 交互模式，文件存在则提示用户是否覆盖</li>
<li>-n 把符号链接视为一般目录</li>
<li>-s 软链接(符号链接)【不带s为硬链接】</li>
<li>-v 显示详细的处理过程</li>
</ul>
<p><strong>注意！</strong></p>
<p>如果判断不是绝对路径（/开头），那么以相对路径解析：</p>
<p><a href="/postImages/%E9%93%BE%E6%8E%A5.png" data-fancybox="group" data-caption="avatar" class="fancybox"><img alt="avatar" title="avatar" data-src="/postImages/%E9%93%BE%E6%8E%A5.png" class="lazyload"></a></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">设当前目录(bash进程的当前目录)为d</span><br><span class="line">ln -s d1&#x2F;dlb d1&#x2F;dx</span><br><span class="line">在d1下新建文件d</span><br><span class="line">访问d1&#x2F;dx实际访问d1&#x2F;d1&#x2F;d1b</span><br></pre></td></tr></table></figure></div>



<h3 id="4-10-ls-文件列表"><a href="#4-10-ls-文件列表" class="headerlink" title="4.10 ls 文件列表"></a>4.10 ls 文件列表</h3><p>控制列表格式，有选择的为每个项目列出某些属性。</p>
<p><strong>-F</strong>（现在终端有颜色了，少用）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">若列出的是目录,就在名字后面缀以斜线&#x2F;</span><br><span class="line">若列出的是可执行文件,就在名字后面缀以星号*</span><br><span class="line">若列出的是符号连接文件,就在名字后面缀以符号@</span><br><span class="line">若列出的是普通文件,则名字面后无任何标记</span><br><span class="line"></span><br><span class="line">例：$ls -F</span><br><span class="line">anthorized_keys  downloads&#x2F;  hadoop&#x2F;  hive&#x2F;  tmp&#x2F;  zookeeper&#x2F;</span><br></pre></td></tr></table></figure></div>

<p><strong>-l</strong> ：长格式列表</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">例：$ls -l arg</span><br><span class="line">-rw-rw-r--. 1 wbw wbw  390 Feb 26 21:09 anthorized_keys</span><br><span class="line">drwxrwxr-x. 5 wbw wbw 4096 Mar 29 16:47 downloads</span><br><span class="line">1rwxrwxrwx. 1 root sys 11 Jul 11 07: 31 unix-&gt;&#x2F;stand&#x2F;unix</span><br><span class="line">crw-r--r--. 1 bin ter 0, 9 Oct 18 09: 56 &#x2F;dev&#x2F;tty10</span><br><span class="line">prw-r--r--. 1 root sys 2642 ct1811:07 &#x2F;tmp&#x2F;pipe</span><br></pre></td></tr></table></figure></div>

<p><strong>-h</strong>：便于人阅读的方式打印</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@s201 &#x2F;home&#x2F;wbw]$ls -lh</span><br><span class="line">total 16K</span><br><span class="line">-rw-rw-r--. 1 wbw wbw  390 Feb 26 21:09 anthorized_keys</span><br><span class="line">drwxrwxr-x. 5 wbw wbw 4.0K Mar 29 16:47 downloads</span><br></pre></td></tr></table></figure></div>

<p><strong>-a</strong>：显示隐藏信息</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@s201 &#x2F;home&#x2F;wbw]$ls -la</span><br><span class="line">total 52</span><br><span class="line">drwx------. 11 wbw  wbw    261 Mar  9 23:31 .</span><br><span class="line">drwxr-xr-x.  3 root root    17 Jan 16 16:20 ..</span><br><span class="line">-rw-rw-r--.  1 wbw  wbw    390 Feb 26 21:09 anthorized_keys</span><br></pre></td></tr></table></figure></div>

<p><strong>-i</strong>：列出文件的i节点号</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@s201 &#x2F;home&#x2F;wbw]$ls -li</span><br><span class="line">total 16</span><br><span class="line">17284854 -rw-rw-r--. 1 wbw wbw  390 Feb 26 21:09 anthorized_keys</span><br><span class="line">   20134 drwxrwxr-x. 5 wbw wbw 4096 Mar 29 16:47 downloads</span><br></pre></td></tr></table></figure></div>



<h3 id="4-11-cp-拷贝文件"><a href="#4-11-cp-拷贝文件" class="headerlink" title="4.11 cp 拷贝文件"></a>4.11 cp 拷贝文件</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp file1 file2</span><br><span class="line">cp file1 file2 dir：将file1 file2拷贝到目录路径下</span><br><span class="line"></span><br><span class="line">-r ：递归复制</span><br><span class="line">-u : 增量拷贝。根据文件的时戳,不拷贝相同的或者过时的版本的文件,以提高速度。</span><br></pre></td></tr></table></figure></div>



<h3 id="4-12-mv-移动-重命名-文件"><a href="#4-12-mv-移动-重命名-文件" class="headerlink" title="4.12 mv 移动(重命名)文件"></a>4.12 mv 移动(重命名)文件</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mv file1 file2</span><br></pre></td></tr></table></figure></div>



<h3 id="4-13-rm-删除文件"><a href="#4-13-rm-删除文件" class="headerlink" title="4.13 rm 删除文件"></a>4.13 rm 删除文件</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rm file1 file2 ... filen</span><br><span class="line"></span><br><span class="line">-r : 递归（删除目录）</span><br><span class="line">-i : 删除前确认</span><br><span class="line">-f : 强制删除</span><br></pre></td></tr></table></figure></div>



<h3 id="4-14-cd-改变当前目录"><a href="#4-14-cd-改变当前目录" class="headerlink" title="4.14 cd 改变当前目录"></a>4.14 cd 改变当前目录</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;a&#x2F;b&#x2F;c</span><br><span class="line">cd ..			&#x2F;&#x2F; 返回上一级目录</span><br><span class="line">cd				&#x2F;&#x2F; 返回主目录</span><br></pre></td></tr></table></figure></div>



<h3 id="4-15-rsync-数据备份工具"><a href="#4-15-rsync-数据备份工具" class="headerlink" title="4.15  rsync 数据备份工具"></a>4.15  rsync 数据备份工具</h3><p>远程同步 remote sync,可以镜像整个目录树。优化的流程,增量文件传输,效率高。</p>
<p>rsync用一精巧的算法,将文件分块,在两主机间传播数据块的hash值,据此推出两版本文件之间区别,使得网络只传输文件的增、删、改部分。</p>
<p>示例：（拷贝文件到另一台主机上）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@s201 &#x2F;home&#x2F;wbw]$rsync test.tmp wbw@s202:~&#x2F;test.tmp</span><br></pre></td></tr></table></figure></div>



<h3 id="4-16-find-遍历目录树"><a href="#4-16-find-遍历目录树" class="headerlink" title="4.16 find 遍历目录树"></a>4.16 find 遍历目录树</h3><p><strong>find命令的三个基本功能</strong></p>
<ul>
<li>find命令从指定的查找范围开始,递归地查找子目录</li>
<li>凡满足条件的文件或目录</li>
<li>执行规定的动作</li>
</ul>
<p><strong>命令的特点</strong></p>
<ul>
<li><p>功能强,选项较多</p>
</li>
<li><p>递归式查找,提供了一种遍历目录树的手段</p>
</li>
<li><p>find命令提供的灵活性:</p>
<p>在“动作”中可以指定任何命令(也包括用户自己编写的处理程序),使得find成为一个任意处理命令可以借用来进行目录遍历的壳(类似awk对文本的逐行扫描,find对目录森林中的文件和目录逐个扫描)</p>
</li>
</ul>
<p><strong>-name</strong>：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find verl.d ver2.d -name &#39;*.c&#39; -print</span><br><span class="line">范围: 当前目录的子目录ver1.d和ver2.d</span><br><span class="line">条件: 与名字*c匹配。注:c应当用引号括起！</span><br><span class="line">动作: 把查找到的文件的路径名打印出来</span><br></pre></td></tr></table></figure></div>

<p><strong>-regex</strong>：整个路径名与正则表达式匹配</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find xxx -regex pattern</span><br></pre></td></tr></table></figure></div>

<p><strong>-type</strong>：根据类型查找</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">f:普通文件</span><br><span class="line">d:目录</span><br><span class="line">l:符号连接文件</span><br><span class="line">c:字符设备文件</span><br><span class="line">b:块设备文件</span><br><span class="line">p:管道文件</span><br></pre></td></tr></table></figure></div>



<p><strong>其他条件选项：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(文件属性字段可用来对遍历到的目标进行筛选,查阅find手册)</span><br><span class="line">指定i节点号-inum</span><br><span class="line">可指定文件主-user,-nouser</span><br><span class="line">可指定用户组group,-nogroup</span><br><span class="line">指定link数 -links</span><br><span class="line">指定路径深度-depth</span><br><span class="line">指定文件的访问权限-perm</span><br><span class="line">根据文件大小-size +-n单位</span><br><span class="line">根据最后修改日期-mtime +-ndays</span><br><span class="line">比file还老的文件-newer file</span><br></pre></td></tr></table></figure></div>

<p><strong>复合条件</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">◆非：</span><br><span class="line">find . ! -type d -links +2 -print</span><br><span class="line">从当前目录开始检索link数大于2的非目录文件</span><br><span class="line"></span><br><span class="line">* 条件“非”用!</span><br><span class="line">注意:!号与-type之间必须保留一空格</span><br><span class="line"></span><br><span class="line">◆条件1 或 条件2：</span><br><span class="line">find ~ -size +100k \(-name core -o -name &#39;*.tmp&#39; \) -print</span><br><span class="line">从主目录开始寻找大于100KB的名叫core或有tmp后缀</span><br><span class="line"></span><br><span class="line">* 使用了两条件“或”(-o)及组合(圆括号)</span><br><span class="line">* 不要遗漏了所必需的引号,反斜线和空格,尤其是圆括号前和圆括号后。圆括号是shel的特殊字符</span><br></pre></td></tr></table></figure></div>

<p><strong>find的动作选项</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-print</span><br><span class="line">打印查找的文件的路径名</span><br><span class="line">-exec</span><br><span class="line">◆对查找到的目标执行某一命令</span><br><span class="line">◆在-exec及随后的分号之间的内容作为一条命令在这命令的命令参数中,&#123;代表遍历到的目标文件的路径名</span><br><span class="line">-exec 参数后面跟的是 command命令，注意点如下：</span><br><span class="line"></span><br><span class="line">command命令的终止，使用 &#39;;&#39; (分号）来判定，在后面必须有一个 &#39;;&#39;</span><br><span class="line"></span><br><span class="line">&#39;&#123;&#125;&#39;，使用&#123;&#125;来表示文件名，也就是find前面处理过程中过滤出来的文件，用于command命令进行处理</span><br><span class="line"></span><br><span class="line">特别强调，对于不同的系统，直接使用分号可能会有不同的意义， 使用转义符 &#39;\&#39;在分号前明确说明.</span><br></pre></td></tr></table></figure></div>



<h3 id="4-17-tar-文件归档"><a href="#4-17-tar-文件归档" class="headerlink" title="4.17 tar 文件归档"></a>4.17 tar 文件归档</h3><p>选项第一字母指定要执行的操作,是必需的</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">c: Create创建新磁带。从头开始写,以前存于磁带上的数据会被覆盖掉</span><br><span class="line">t: Table列表。磁带上的文件名列表,当不指定文件名时,将列出所有的文件</span><br><span class="line">x: eXtract抽取。从磁带中抽取指定的文件当不指定文件名时,抽取所有文件</span><br></pre></td></tr></table></figure></div>

<p>除功能字母外的其它选项</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">v: Verbose冗长。每处理一个文件,就打印出文件的文件名,并在该名前冠以功能字母</span><br><span class="line">f: file。指定设备文件名</span><br><span class="line">z: 采用压缩格式(gzip算法)</span><br><span class="line">j: 采用压缩格式(bzip2算法)</span><br></pre></td></tr></table></figure></div>

<p>例子：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 打包文件</span><br><span class="line">tar -cvf xxx.tar work</span><br><span class="line"># 解压</span><br><span class="line">tar -zxvf file.tar.gz</span><br></pre></td></tr></table></figure></div>



<h3 id="4-18-程序后台挂起与恢复"><a href="#4-18-程序后台挂起与恢复" class="headerlink" title="4.18 程序后台挂起与恢复"></a>4.18 程序后台挂起与恢复</h3><p>【转】<a href="https://blog.csdn.net/carolzhang8406/article/details/51314894" target="_blank" rel="noopener">https://blog.csdn.net/carolzhang8406/article/details/51314894</a></p>
<ol>
<li><p>linux下我们如果想一个任务或者程序还后台执行可以使用&amp;，实际上linux还提供了其他任务调度的命令。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ctrl + z</span><br><span class="line">可以将一个正在前台执行的命令放到后台，并且暂停</span><br><span class="line"></span><br><span class="line">jobs</span><br><span class="line">查看当前有多少在后台运行的命令</span><br><span class="line"></span><br><span class="line">bg</span><br><span class="line">将一个在后台暂停的命令，变成继续执行</span><br><span class="line"></span><br><span class="line">fg</span><br><span class="line">将后台中的命令调至前台继续运行</span><br></pre></td></tr></table></figure></div>
</li>
<li><p><strong>nohup 命令（推荐）</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">用途：不挂断地运行命令。</span><br><span class="line">语法：nohup Command [ Arg … ] [　&amp; ]</span><br><span class="line">描述：nohup 命令运行由 Command 参数和任何相关的 Arg 参数指定的命令，忽略所有挂断（SIGHUP）信号。在注销后使用 nohup 命令运行后台中的程序。要运行后台中的 nohup 命令，添加 &amp; （ 表示”and”的符号）到命令的尾部</span><br><span class="line">---------------------------------------</span><br><span class="line">如果你正在运行一个进程，而且你觉得在退出帐户时该进程还不会结束，那么可以使用nohup命令。该命令可以在你退出帐户之后继续运行相应的进程。nohup就是不挂起的意思( no hang up)。 该命令的一般形式为： </span><br><span class="line">nohup conmmand &amp;</span><br><span class="line">如果使用nohup命令提交作业，那么在缺省情况下该作业的所有输出都被重定向到一个名为nohup.out的文件中，除非另外指定了输出文件：</span><br><span class="line">nohup command &gt; myout.file 2&gt;&amp;1 </span><br><span class="line">在上面的例子中，输出被重定向到myout.file文件中</span><br></pre></td></tr></table></figure></div>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">真实例子：</span><br><span class="line">$nohup java -jar cygf-web-1.0.1.jar &gt; cygf-web-1.0.1.log 2&gt;&amp;1 &amp;</span><br><span class="line">[1] 1617</span><br><span class="line">结束该进程：</span><br><span class="line">jobs	&#x2F;&#x2F; 找到该进程编号</span><br><span class="line">fg 1	&#x2F;&#x2F; 将该进程调回前台界面</span><br><span class="line">Ctrl+C	&#x2F;&#x2F; 结束该进程</span><br></pre></td></tr></table></figure></div>




</li>
</ol>
<h3 id="4-19-crontab-定时任务"><a href="#4-19-crontab-定时任务" class="headerlink" title="4.19 crontab 定时任务"></a>4.19 crontab 定时任务</h3><p>【测试网址】<a href="http://tool.lu/crontab" target="_blank" rel="noopener">http://tool.lu/crontab</a></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">说明：</span><br><span class="line">Linux</span><br><span class="line">*    *    *    *    *</span><br><span class="line">-    -    -    -    -</span><br><span class="line">|    |    |    |    |</span><br><span class="line">|    |    |    |    +----- day of week (0 - 7) (Sunday&#x3D;0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="line">|    |    |    +---------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class="line">|    |    +--------------- day of month (1 - 31)</span><br><span class="line">|    +-------------------- hour (0 - 23)</span><br><span class="line">+------------------------- minute (0 - 59)</span><br></pre></td></tr></table></figure></div>

<p><strong>使用步骤</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">*&#x2F;1 * * * * &#x2F;home&#x2F;hadoop&#x2F;tmp&#x2F;log_gen.sh</span><br></pre></td></tr></table></figure></div>





<h2 id="五、用户管理"><a href="#五、用户管理" class="headerlink" title="五、用户管理"></a>五、用户管理</h2><p>【转】<a href="https://www.cnblogs.com/dubhlinn/p/11055010.html" target="_blank" rel="noopener">https://www.cnblogs.com/dubhlinn/p/11055010.html</a></p>
<h3 id="5-1-用户-组-配置文件"><a href="#5-1-用户-组-配置文件" class="headerlink" title="5.1 用户(组)配置文件"></a>5.1 用户(组)配置文件</h3><p>/etc/passwd：用户的配置文件，存放用户信息；从左至右：用户名，密码(不显示明文)，用户id，组id，家目录，登录shell。</p>
<p><a href="https://img2018.cnblogs.com/blog/1407231/201906/1407231-20190609100036069-1817473604.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="img" class="fancybox"><img alt="img" title="img" data-src="https://img2018.cnblogs.com/blog/1407231/201906/1407231-20190609100036069-1817473604.png" class="lazyload"></a></p>
<p>/etc/shadow：口令的配置文件，用于存放加密口令、修改事件、失效时间等信息。</p>
<p>/etc/group：组配置文件，用于存放组名、组id。</p>
<h3 id="5-2-用户"><a href="#5-2-用户" class="headerlink" title="5.2 用户"></a>5.2 用户</h3><p>用户分类：</p>
<ul>
<li><p>普通用户</p>
</li>
<li><p>超级用户（root）</p>
</li>
</ul>
<h4 id="5-2-1-useradd-创建新用户"><a href="#5-2-1-useradd-创建新用户" class="headerlink" title="5.2.1 useradd 创建新用户"></a>5.2.1 useradd 创建新用户</h4><p>用户信息存放再/etc/passwd文件中，包括用户名和ID以及对应的home目录。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@centos7 ~]# useradd userName [-d homePath] [-g groupName]</span><br></pre></td></tr></table></figure></div>

<p>参数介绍：</p>
<p>userName：用户名</p>
<p>homePath：家目录(可选，不指定时默认为/home目录下同用户名)</p>
<p>groupName：组名(可选，不指定时默认为同用户名)</p>
<h4 id="5-2-2-passwd-更改密码"><a href="#5-2-2-passwd-更改密码" class="headerlink" title="5.2.2 passwd 更改密码"></a>5.2.2 passwd 更改密码</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">passwd userName</span><br></pre></td></tr></table></figure></div>

<p>参数介绍：</p>
<p>userName：用户名</p>
<h4 id="5-2-3-id-查看用户信息"><a href="#5-2-3-id-查看用户信息" class="headerlink" title="5.2.3 id 查看用户信息"></a>5.2.3 id 查看用户信息</h4><p>id username</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 &#x2F;home&#x2F;wbw]$id wbw</span><br><span class="line">uid&#x3D;1000(wbw) gid&#x3D;1000(wbw) groups&#x3D;1000(wbw)</span><br></pre></td></tr></table></figure></div>

<h4 id="5-2-4-su-切换用户"><a href="#5-2-4-su-切换用户" class="headerlink" title="5.2.4 su 切换用户"></a>5.2.4 su 切换用户</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">su suername</span><br></pre></td></tr></table></figure></div>

<h4 id="5-2-5-userdel-删除用户"><a href="#5-2-5-userdel-删除用户" class="headerlink" title="5.2.5 userdel 删除用户"></a>5.2.5 userdel 删除用户</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">userdel [-r] username</span><br></pre></td></tr></table></figure></div>

<p>username：为要删除的用户名</p>
<p>-r：是可选项，表示同时删除该用户的家目录。一般情况下删除用户时并不需要删除他的家目录。</p>
<h3 id="5-3-组"><a href="#5-3-组" class="headerlink" title="5.3 组"></a>5.3 组</h3><p>组信息存放在 <strong>/etc/group</strong></p>
<h4 id="5-3-1-groupadd-添加组"><a href="#5-3-1-groupadd-添加组" class="headerlink" title="5.3.1 groupadd 添加组"></a>5.3.1 groupadd 添加组</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupadd groupName</span><br></pre></td></tr></table></figure></div>

<p>其中，groupName为要添加的组名，注意不能重复添加同名的组，如果groupName已经存在，会返回错误提示。</p>
<h4 id="5-3-2-groupdel-删除组"><a href="#5-3-2-groupdel-删除组" class="headerlink" title="5.3.2 groupdel 删除组"></a>5.3.2 groupdel 删除组</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupdel groupName</span><br></pre></td></tr></table></figure></div>

<p>其中，groupName为要添加的组名，注意如果这个组是一个或多个用户的主组，则不能删除。</p>
<h4 id="5-3-3-usermod-修改用户所属组"><a href="#5-3-3-usermod-修改用户所属组" class="headerlink" title="5.3.3 usermod 修改用户所属组"></a>5.3.3 usermod 修改用户所属组</h4><p>这个是用户的默认所属组</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">usermod -g groupname userName</span><br></pre></td></tr></table></figure></div>

<p>其中，groupname为新组名，userName为要修改的用户名。</p>
<h4 id="5-3-4-usermod-修改用户家目录"><a href="#5-3-4-usermod-修改用户家目录" class="headerlink" title="5.3.4 usermod 修改用户家目录"></a>5.3.4 usermod 修改用户家目录</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">usermod -d homepath username</span><br></pre></td></tr></table></figure></div>

<p>其中homepath为新的家目录，username为要修改的用户名。</p>
<h4 id="5-3-5-gpasswd-从组中添加、移除用户"><a href="#5-3-5-gpasswd-从组中添加、移除用户" class="headerlink" title="5.3.5 gpasswd 从组中添加、移除用户"></a>5.3.5 gpasswd 从组中添加、移除用户</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$gpasswd -h</span><br><span class="line">Usage: gpasswd [option] GROUP</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -a, --add USER                add USER to GROUP</span><br><span class="line">  -d, --delete USER             remove USER from GROUP</span><br><span class="line">  -h, --help                    display this help message and exit</span><br><span class="line">  -Q, --root CHROOT_DIR         directory to chroot into</span><br><span class="line">  -r, --delete-password         remove the GROUP&#39;s password</span><br><span class="line">  -R, --restrict                restrict access to GROUP to its members</span><br><span class="line">  -M, --members USER,...        set the list of members of GROUP</span><br><span class="line">  -A, --administrators ADMIN,...</span><br></pre></td></tr></table></figure></div>

<p><strong>添加一个用户到组中</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 先创建一个组</span><br><span class="line">$sudo groupadd grouping1</span><br><span class="line"># 然后将用户加入组中</span><br><span class="line">$sudo gpasswd -a TestUser grouping1</span><br><span class="line">Adding user TestUser to group grouping1</span><br><span class="line"># 查看用户状态</span><br><span class="line">$id TestUser</span><br><span class="line">uid&#x3D;1003(TestUser) gid&#x3D;1003(groupTest) groups&#x3D;1003(groupTest),1006(grouping1)</span><br></pre></td></tr></table></figure></div>

<p><strong>将用户移出组</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 移除用户从组中</span><br><span class="line">$sudo gpasswd -d TestUser grouping1</span><br><span class="line">Removing user TestUser from group grouping1</span><br><span class="line"># 查看用户状态</span><br><span class="line">$id TestUser</span><br><span class="line">uid&#x3D;1003(TestUser) gid&#x3D;1003(groupTest) groups&#x3D;1003(groupTest)</span><br></pre></td></tr></table></figure></div>



<h2 id="六、文本操作"><a href="#六、文本操作" class="headerlink" title="六、文本操作"></a>六、文本操作</h2><h3 id="6-1-重定向"><a href="#6-1-重定向" class="headerlink" title="6.1 重定向"></a>6.1 重定向</h3><p>一般情况下都为标准输入输出</p>
<ul>
<li><p>输出重定向</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls -l &gt; filelist.txt</span><br><span class="line">ls -l &gt;&gt; filelist.txt	# 追加</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>输入重定向</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sort &lt; filelist.txt</span><br></pre></td></tr></table></figure></div>



</li>
</ul>
<h3 id="6-2-管道机制"><a href="#6-2-管道机制" class="headerlink" title="6.2 管道机制"></a>6.2 管道机制</h3><p>使用|符号，可以将一个程序的结果传递给下一个程序作为它的输入,这样的操作可以使我们的程序更加的灵活，例如：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ll | sort</span><br></pre></td></tr></table></figure></div>

<p>这个例子为将 ll 原本打印在屏幕上的内容，作为 sort 的输入。结果还是打印在屏幕上。如果配合重定向，那么可以直接写到文件中，如：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ ll | sort &gt; file.txt</span><br><span class="line">[wbw@centos7 ~]$ cat file.txt </span><br><span class="line">-rw-rw-r--. 1 wbw wbw  0 Mar  5 17:45 file.txt</span><br><span class="line">-rw-rw-r--. 1 wbw wbw 58 Mar  5 17:35 filelist.txt</span><br><span class="line">total 4</span><br></pre></td></tr></table></figure></div>



<h3 id="6-3-more-amp-less"><a href="#6-3-more-amp-less" class="headerlink" title="6.3 more&amp;less"></a>6.3 more&amp;less</h3><p>可以查看文本，以及一些快捷操作。类似一个文本查看器。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">more 文件名</span><br></pre></td></tr></table></figure></div>

<p>帮助：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Most commands optionally preceded by integer argument k.  Defaults in brackets.</span><br><span class="line">Star (*) indicates argument becomes new default.</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">&lt;space&gt;                 Display next k lines of text [current screen size]</span><br><span class="line">z                       Display next k lines of text [current screen size]*</span><br><span class="line">&lt;return&gt;                Display next k lines of text [1]*</span><br><span class="line">d or ctrl-D             Scroll k lines [current scroll size, initially 11]*</span><br><span class="line">q or Q or &lt;interrupt&gt;   Exit from more</span><br><span class="line">s                       Skip forward k lines of text [1]</span><br><span class="line">f                       Skip forward k screenfuls of text [1]</span><br><span class="line">b or ctrl-B             Skip backwards k screenfuls of text [1]</span><br><span class="line">&#39;                       Go to place where previous search started</span><br><span class="line">&#x3D;                       Display current line number</span><br><span class="line">&#x2F;&lt;regular expression&gt;   Search for kth occurrence of regular expression [1]</span><br><span class="line">n                       Search for kth occurrence of last r.e [1]</span><br><span class="line">!&lt;cmd&gt; or :!&lt;cmd&gt;       Execute &lt;cmd&gt; in a subshell</span><br><span class="line">v                       Start up &#x2F;usr&#x2F;bin&#x2F;vi at current line</span><br><span class="line">ctrl-L                  Redraw screen</span><br><span class="line">:n                      Go to kth next file [1]</span><br><span class="line">:p                      Go to kth previous file [1]</span><br><span class="line">:f                      Display current file name and line number</span><br><span class="line">.                       Repeat previous command</span><br><span class="line">-------------------------------------------------------------------------------</span><br></pre></td></tr></table></figure></div>



<h3 id="6-4-cat-amp-od"><a href="#6-4-cat-amp-od" class="headerlink" title="6.4 cat &amp; od"></a>6.4 cat &amp; od</h3><p>cat：文本格式打印</p>
<ul>
<li>-n：行号</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ cat nums.txt </span><br><span class="line">123456</span><br></pre></td></tr></table></figure></div>



<p>od：逐字节打印</p>
<ul>
<li>-c、-t c、-t x1、-t d1、-t u1</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ od -t x1 file.txt </span><br><span class="line">0000000 2d 72 77 2d 72 77 2d 72 2d 2d 2e 20 31 20 77 62</span><br><span class="line">0000020 77 20 77 62 77 20 20 30 20 4d 61 72 20 20 35 20</span><br><span class="line">0000040 31 37 3a 34 35 20 66 69 6c 65 2e 74 78 74 0a 2d</span><br><span class="line">0000060 72 77 2d 72 77 2d 72 2d 2d 2e 20 31 20 77 62 77</span><br><span class="line">0000100 20 77 62 77 20 35 38 20 4d 61 72 20 20 35 20 31</span><br><span class="line">0000120 37 3a 33 35 20 66 69 6c 65 6c 69 73 74 2e 74 78</span><br><span class="line">0000140 74 0a 74 6f 74 61 6c 20 34 0a</span><br></pre></td></tr></table></figure></div>



<h3 id="6-5-echo"><a href="#6-5-echo" class="headerlink" title="6.5 echo"></a>6.5 echo</h3><p>echo：输入什么就打印什么。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ echo 123456</span><br><span class="line">123456</span><br></pre></td></tr></table></figure></div>

<p>通常echo配合重定向，快速向文本文件添加信息：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ echo 123456 &gt; nums.txt</span><br><span class="line">[wbw@centos7 ~]$ cat nums.txt </span><br><span class="line">123456</span><br></pre></td></tr></table></figure></div>

<p>还可以进行追加：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ echo append &gt;&gt; nums.txt</span><br><span class="line">[wbw@centos7 ~]$ cat nums.txt </span><br><span class="line">123456</span><br><span class="line">append</span><br></pre></td></tr></table></figure></div>



<h3 id="6-6-head-amp-tail-显示文件头尾"><a href="#6-6-head-amp-tail-显示文件头尾" class="headerlink" title="6.6 head &amp; tail 显示文件头尾"></a>6.6 head &amp; tail 显示文件头尾</h3><p>显示文件前（后）N行信息</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">head -n 15 ab.c		# 显示ab.c文件前15行</span><br><span class="line">tail -n 15 ab.c</span><br></pre></td></tr></table></figure></div>

<p>实时打印文件尾部被追加的内容（一般可以用来查看实时日志）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tail -f debug.txt</span><br></pre></td></tr></table></figure></div>



<h3 id="6-7-tee-抄送"><a href="#6-7-tee-抄送" class="headerlink" title="6.7 tee 抄送"></a>6.7 tee 抄送</h3><p>tee：将从标准输入的数据抄送到标准输出，同时存入磁盘文件。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;myap | tee myap.log</span><br></pre></td></tr></table></figure></div>



<h3 id="6-8-wc-字计数"><a href="#6-8-wc-字计数" class="headerlink" title="6.8 wc 字计数"></a>6.8 wc 字计数</h3><p>wc：字计数，可以看文件有多少行数据</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 查看file.txt文件的行数</span><br><span class="line">[wbw@centos7 ~]$ wc -l file.txt </span><br><span class="line">3 file.txt</span><br><span class="line"># 查看有多少个进程数</span><br><span class="line">[wbw@centos7 ~]$ ps -ef | wc -l</span><br><span class="line">119</span><br></pre></td></tr></table></figure></div>



<h3 id="6-9-sort-排序"><a href="#6-9-sort-排序" class="headerlink" title="6.9 sort 排序"></a>6.9 sort 排序</h3><p>sort：排序</p>
<p>具体使用情况用man查看。</p>
<h3 id="6-10-tr-翻译字符"><a href="#6-10-tr-翻译字符" class="headerlink" title="6.10 tr 翻译字符"></a>6.10 tr 翻译字符</h3><p>tr：翻译字符</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tr string1 string2</span><br></pre></td></tr></table></figure></div>

<p>将标准输入拷贝到标准输出，string1中出现的字符替换成string2中的对应字符，如：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 ~]$ cat file.txt </span><br><span class="line">-rw-rw-r--. 1 wbw wbw  0 Mar  5 17:45 file.txt</span><br><span class="line">-rw-rw-r--. 1 wbw wbw 58 Mar  5 17:35 filelist.txt</span><br><span class="line">total 4</span><br><span class="line">[wbw@centos7 ~]$ cat file.txt | tr file FILE</span><br><span class="line">-rw-rw-r--. 1 wbw wbw  0 Mar  5 17:45 FILE.txt</span><br><span class="line">-rw-rw-r--. 1 wbw wbw 58 Mar  5 17:35 FILELIst.txt</span><br><span class="line">totaL 4</span><br></pre></td></tr></table></figure></div>



<h3 id="6-11-正则表达式相关命令"><a href="#6-11-正则表达式相关命令" class="headerlink" title="6.11 正则表达式相关命令"></a>6.11 正则表达式相关命令</h3><h4 id="6-11-1-正则表达式"><a href="#6-11-1-正则表达式" class="headerlink" title="6.11.1 正则表达式"></a>6.11.1 正则表达式</h4><p>【菜鸟教程】<a href="https://www.runoob.com/regexp/regexp-syntax.html" target="_blank" rel="noopener">https://www.runoob.com/regexp/regexp-syntax.html</a></p>
<h4 id="6-11-2-grep"><a href="#6-11-2-grep" class="headerlink" title="6.11.2 grep"></a>6.11.2 grep</h4><ul>
<li>-n：显示时每行前面显示行号</li>
<li>-v：显示所有不包含模式的行</li>
<li>-i：字符比较时忽略字母的大小写</li>
</ul>
<h4 id="6-11-3-sed"><a href="#6-11-3-sed" class="headerlink" title="6.11.3 sed"></a>6.11.3 sed</h4><blockquote>
<p>sed -e ‘s/被替换的内容/替换后的内容/g’</p>
</blockquote>
<ol>
<li><p>替换操作</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat hh.txt | sed [-e &#39;s&#x2F;被替换的字符串&#x2F;目标字符串&#x2F;g&#39;]</span><br><span class="line">------------------</span><br><span class="line">g : 一行里面全部</span><br><span class="line">[] : 可以接着多个替换操作</span><br></pre></td></tr></table></figure></div>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sed -e &#39;s&#x2F;.*\([0-9][0-9]*\)万&#x2F;\1&#x2F;g&#39;</span><br><span class="line">------------------</span><br><span class="line">\(.......\) 里面的内容看成一个整体与\1对应。即两者值相同。如果有多个，\2\3\4依此下去</span><br></pre></td></tr></table></figure></div>

</li>
</ol>
<h4 id="6-11-4-awk"><a href="#6-11-4-awk" class="headerlink" title="6.11.4 awk"></a>6.11.4 awk</h4><blockquote>
<p>awk 的一般语法如下：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;# awk &#39;script&#39; filename</span><br></pre></td></tr></table></figure></div>

<p>此处 <code>&#39;script&#39;</code> 是一个由 awk 可以理解并应用于 filename 的命令集合。</p>
<p>它通过读取文件中的给定行，复制该行的内容并在该行上执行脚本的方式工作。这个过程会在该文件中的所有行上重复。</p>
<p>该脚本 <code>&#39;script&#39;</code> 中内容的格式是 <code>&#39;/pattern/ action&#39;</code>，其中 <code>pattern</code> 是一个正则表达式，而 <code>action</code> 是当 awk 在该行中找到此模式时应当执行的动作用{}括起来。</p>
</blockquote>
<ol>
<li><p>用法</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">awk &#39;程序&#39; 文件名列表</span><br><span class="line">awk -f 程序文件名 文件名列表</span><br><span class="line">程序	条件	&#123;动作&#125;</span><br><span class="line">awk自动对每行文本执行条件判断，满足条件执行动作（内循环）</span><br><span class="line">多段程序间用空格或分号隔开</span><br><span class="line"></span><br><span class="line">也可以用重定向流的方式给数据</span><br><span class="line">ls -s | awk ....</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>处理方式</p>
<ul>
<li><p>输入文件的每行作为一个“记录”，变量NR就是行号</p>
</li>
<li><p>每行用空格分隔开的部分，叫做记录的“域”</p>
<p>内置变量$1是第一域的内容，依次$2、$3</p>
</li>
<li><p>awk的处理为：符合条件的行，执行相应的动作</p>
<ul>
<li>条件1：C语言的逻辑关系表达式，&lt;&gt;=!|&amp;</li>
<li>条件2：正则表达式 /regexpr/</li>
<li>特殊条件：<ul>
<li>不指定任何条件，默认对所有文本执行动作</li>
<li>BEGIN：处理文本前执行的动作</li>
<li>END：之后</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>动作</p>
<ul>
<li><p>自定义变量</p>
</li>
<li><p>加减等算术逻辑运算</p>
</li>
<li><p>正则表达式匹配运算（用作条件判断） ~    !~</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$2 ~ &quot;[1-9][0-9]*&quot;</span><br><span class="line">表示第二个域要匹配后面的正则表达式</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>流程控制：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if</span><br><span class="line">for</span><br><span class="line">print 变量 变量</span><br><span class="line">printf(&quot;%s&quot;, $2)	类C语言</span><br></pre></td></tr></table></figure></div>



</li>
</ul>
</li>
</ol>
<p>   推荐：<a href="https://www.cnblogs.com/ftl1012/p/9250541.html" target="_blank" rel="noopener">https://www.cnblogs.com/ftl1012/p/9250541.html</a></p>
<h3 id="6-12-vi-编辑器"><a href="#6-12-vi-编辑器" class="headerlink" title="6.12 vi 编辑器"></a>6.12 vi 编辑器</h3><p>注意：vi命令状态下的按键命令没有回显</p>
<ol>
<li><p>配置（也可以直接修改配置文件）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:set number		显示行号</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>光标单字符移动</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">5h		光标左移5列</span><br><span class="line">6j		光标下移6行</span><br><span class="line">23k		光标上移23行</span><br><span class="line">10l		光标右移10列</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>行首行尾</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Ctrl-b		向后翻页（PgDn）</span><br><span class="line">Ctrl-f		向前翻页（PgUp）</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>快速移动</p>
<ul>
<li><p>行首行尾</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">^		行首</span><br><span class="line">$		行尾</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>移动一个单词</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">w		右移</span><br><span class="line">b		左移</span><br><span class="line">也可以前面跟数字 5w  6b</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>移动指定行</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:256 + 回车		定位到256行</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
</li>
<li><p>删除命令</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x		删除光标处字符</span><br><span class="line">dd		删除当前行</span><br><span class="line">3dd		删除当前行开始的3行</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>字符替换 r</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ra		当前光标字符替换为a</span><br><span class="line">rarbrc	当前光标位置替换为abc</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>撤销（undo）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">u</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>重复上次操作</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>存盘</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ZZ &lt;&#x3D;&#x3D;&gt; :wq		保存退出</span><br><span class="line">:W				仅保存</span><br><span class="line">:q!				退出不保存</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>文件操作</p>
<ul>
<li><p>读入文件xyz.c插入到当前行下</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:r xyz.c</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>写文件，把第50行至行尾的内容写到文件file1中（可以用在编辑了半天文件，发现没有权限修改时候用）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:50,$w file1</span><br><span class="line">:50,$w! file1		强制覆盖</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
</li>
<li><p>剪贴板</p>
<ul>
<li><p>删除，并拷贝到剪贴板</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:10,50d		删除第10-50行</span><br><span class="line">:1,.d		删除文件首至当前行的部分</span><br><span class="line">:,$d		删除当前行至文件尾</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>不删除，仅拷贝</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:10,50y</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>粘贴剪贴板</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">p</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
</li>
<li><p>查找</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;pattern</span><br><span class="line">例子：&#x2F;[0-9][0-9]*</span><br><span class="line">----------------------</span><br><span class="line">n		向下继续查找</span><br><span class="line">N		向上查找</span><br><span class="line">循环模式，当到达文件尾时，返回文件头继续搜索</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>替换</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">:n1,n2s&#x2F;pattern&#x2F;string&#x2F;g</span><br><span class="line">例子：</span><br><span class="line">:1,50s&#x2F;abc&#x2F;xyz&#x2F;		仅替换一次</span><br><span class="line">:1,50s&#x2F;abc&#x2F;xyz&#x2F;g	替换所有</span><br><span class="line">:50,80s&#x2F;^&#x2F;    &#x2F;		右移4列</span><br><span class="line">:50,80s&#x2F;^    &#x2F;&#x2F;		左移4列</span><br><span class="line">:1,$s&#x2F; *$&#x2F;&#x2F;			消除尾巴多余的空格</span><br><span class="line">--------------------</span><br><span class="line">注意：编辑c文件的时候要小心s&#x2F;a[i]&#x2F;b[j]&#x2F;g 这里只匹配ai,也不能把s&#x2F;a*b&#x2F;x+y&#x2F;g。需要用转移字符\</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>其他操作</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">J		行合并，当前行以及下一行合并</span><br><span class="line">Ctrl-l	刷新屏幕（防止其他程序打印消息打乱文件内容）</span><br><span class="line">Cirl-g	打印当前文件的名字，总行数，当前行号，文件是否被修改等信息</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<h2 id="七、文件目录管理"><a href="#七、文件目录管理" class="headerlink" title="七、文件目录管理"></a>七、文件目录管理</h2><h3 id="7-1-文件信息"><a href="#7-1-文件信息" class="headerlink" title="7.1 文件信息"></a>7.1 文件信息</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">例：$ls -l arg</span><br><span class="line">-rw-rw-r--. 1 wbw wbw  390 Feb 26 21:09 anthorized_keys</span><br><span class="line">drwxrwxr-x. 5 wbw wbw 4096 Mar 29 16:47 downloads</span><br><span class="line">1rwxrwxrwx. 1 root sys 11 Jul 11 07: 31 unix-&gt;&#x2F;stand&#x2F;unix</span><br><span class="line">crw-r--r--. 1 bin ter 0, 9 Oct 18 09: 56 &#x2F;dev&#x2F;tty10</span><br><span class="line">prw-r--r--. 1 root sys 2642 ct1811:07 &#x2F;tmp&#x2F;pipe</span><br><span class="line"></span><br><span class="line">第1列:文件属性</span><br><span class="line">    ◆第1字符为文件类型</span><br><span class="line">        * -普通文件</span><br><span class="line">        * b块设备文件(Block)</span><br><span class="line">        * d目录文件(Dir)</span><br><span class="line">        * c字符设备文件(char)</span><br><span class="line">        * l符号连接文件(Link)</span><br><span class="line">        * p命名管道文件(Pipe)</span><br><span class="line">    ◆后面9个字符为文件的访问权限(rwx-读权限,写权限,可执行权限,无权限)</span><br><span class="line">    	* 2-4字符:文件所有者对文件的访问权限</span><br><span class="line">		* 5-7字符:同组用户对文件的访问权限</span><br><span class="line">		* 8-10字符:其它用户对文件的访问权限</span><br><span class="line">第2列:文件link数,涉及到此文件的目录项数</span><br><span class="line">第3列,第4列:文件所有者的名字和组名</span><br><span class="line">第5列：</span><br><span class="line">    ◆普通磁盘文件:列出文件大小(字节数)</span><br><span class="line">    ◆目录:列出目录表大小,不是目录下文件长度和</span><br><span class="line">    ◆符号连接文件:列出符号连接文件自身的长度</span><br><span class="line">    ◆字符设备和块设备文件:列出主设备号和次设备号</span><br><span class="line">第6列:文件最后一次被修改的日期和时间</span><br><span class="line">第7列：文件名</span><br></pre></td></tr></table></figure></div>



<h3 id="7-2-文件比较"><a href="#7-2-文件比较" class="headerlink" title="7.2 文件比较"></a>7.2 文件比较</h3><ul>
<li><p>MD5</p>
</li>
<li><p>SHA-1</p>
</li>
<li><p>diff 求出两个文件的差别</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">diff file1 file2</span><br><span class="line">diff -u file1 file2  (-u后面跟数字表示，打印多少行一样的)</span><br></pre></td></tr></table></figure></div>



</li>
</ul>
<h3 id="7-3-文件权限管理"><a href="#7-3-文件权限管理" class="headerlink" title="7.3 文件权限管理"></a>7.3 文件权限管理</h3><h4 id="7-3-1-chown-修改所有者"><a href="#7-3-1-chown-修改所有者" class="headerlink" title="7.3.1 chown 修改所有者"></a>7.3.1 chown 修改所有者</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chown [-R] username source</span><br></pre></td></tr></table></figure></div>

<p>其中，username为修改后的用户名，source为文件或目录的路径名称，-R表示级联修改目录下面的子目录和文件的所有者。</p>
<h4 id="7-3-2-chgrp-修改所在组"><a href="#7-3-2-chgrp-修改所在组" class="headerlink" title="7.3.2 chgrp 修改所在组"></a>7.3.2 chgrp 修改所在组</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chgrp [-R] groupname source</span><br></pre></td></tr></table></figure></div>

<p>其中，groupname为修改后的组名，source为文件或目录的路径名称，-R表示级联修改目录下面的子目录和文件的所在组。注意修改文件的所有者和所在组是相互独立的事件，互不影响。</p>
<h4 id="7-3-3-同时修改所有者和所在组"><a href="#7-3-3-同时修改所有者和所在组" class="headerlink" title="7.3.3 同时修改所有者和所在组"></a>7.3.3 同时修改所有者和所在组</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chown [-R] username:groupname source</span><br></pre></td></tr></table></figure></div>

<p>其中，username为修改后的用户名，groupname为修改后的组名，source为文件或目录的路径名称，-R表示级联修改目录下面的子目录和文件的所在组。这里的用户和组没有必然联系，即username不一定要属于groupname的那个组。</p>
<h4 id="7-3-4-chmod-修改文件权限"><a href="#7-3-4-chmod-修改文件权限" class="headerlink" title="7.3.4 chmod 修改文件权限"></a>7.3.4 chmod 修改文件权限</h4><p><strong>(1) 使用权限代码赋值</strong></p>
<p>chmod role1=auth source</p>
<p>其中，role为角色代码，可以设置其中的一个或多个，多个角色之间用逗号(,)分隔且不能有空格，其取值范围如下：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">u-文件或目录的所有者；</span><br><span class="line">g-文件或目录所在组的用户；</span><br><span class="line">o-其他用户；</span><br><span class="line">a-所有用户，包含u、g、o，只能单独使用。</span><br></pre></td></tr></table></figure></div>

<p>auth为权限码组合，例如读写执行权限为rwx，读和执行权限为rx，写权限为w，根据需要选择。</p>
<p>source为文件或目录的路径名称。</p>
<p>下面是几个实例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;rx &#x2F;home&#x2F;dubhlinn</span><br><span class="line">chmod o&#x3D;r &#x2F;home&#x2F;dubhlinn&#x2F;description.txt</span><br><span class="line">chmod a&#x3D;rwx &#x2F;home&#x2F;public</span><br></pre></td></tr></table></figure></div>



<p><strong>(2) 使用加减号添加或减少权限</strong></p>
<p>chmod role+auth source</p>
<p>chmod role-auth source</p>
<p>role、auth、source的含义同上，同样可以设置一个或多个角色，以下是几个实例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod u-x,g+rw &#x2F;home&#x2F;dubhlinn&#x2F;description.txt</span><br><span class="line">chmod a+w &#x2F;home&#x2F;public</span><br><span class="line">chmod u+rwx,g-x,o-x &#x2F;home&#x2F;dubhlinn</span><br></pre></td></tr></table></figure></div>



<p><strong>(3) 使用数字赋值</strong></p>
<p>chmod xyz source</p>
<p>其中，x、y、z是三个数字，分别表示文件或目录的所有者、所在组的用户、其他组的用户的”权限值”。</p>
<p>权限值是这样计算的：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">r&#x3D;4</span><br><span class="line">w&#x3D;2</span><br><span class="line">x&#x3D;1</span><br></pre></td></tr></table></figure></div>

<p>将这个用户的权限代码对应的数字加起来就是”权限值”，所以其取值范围可能是0、1、2、3、4、5、6、7。</p>
<p>例如:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 754 &#x2F;home&#x2F;void </span><br><span class="line">等价于</span><br><span class="line">chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;r &#x2F;home&#x2F;void</span><br></pre></td></tr></table></figure></div>



<h3 id="7-4-STICKY-粘着位-防删除"><a href="#7-4-STICKY-粘着位-防删除" class="headerlink" title="7.4 STICKY 粘着位(防删除)"></a>7.4 STICKY 粘着位(防删除)</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">drwxrwxrwt.  33 root root 4096 Apr 22 14:02 tmp</span><br></pre></td></tr></table></figure></div>

<p>目录有写权限并且带STICKY属性，此目录下的文件仅文件主可以删除，其他用户删除操作会失败。</p>
<h3 id="7-5-SUID"><a href="#7-5-SUID" class="headerlink" title="7.5 SUID"></a>7.5 SUID</h3><p>【转】<a href="https://www.jianshu.com/p/71acd8dad454" target="_blank" rel="noopener">https://www.jianshu.com/p/71acd8dad454</a></p>
<p>一个进程如果没有SUID或SGID位，则euid=uid egid=gid，分别是运行这个程序的用户的uid和gid。例如kevin用户的uid和gid分别为204和202，foo用户的uid和gid为200，201，kevin运行myfile程序形成的进程的euid=uid=204，egid=gid=202，内核根据这些值来判断进程对资源访问的限制，其实就是kevin用户对资源访问的权限，和foo没关系。</p>
<p>如果一个程序设置了SUID，则euid和egid变成被运行的程序的所有者的uid和gid，例如kevin用户运行myfile，euid=200，egid=201，uid=204，gid=202，则这个进程具有它的属主foo的资源访问权限。</p>
<p>SUID的作用就是这样：让本来没有相应权限的用户运行这个程序时，可以访问他没有权限访问的资源。passwd就是一个很鲜明的例子。</p>
<h2 id="八、网络管理"><a href="#八、网络管理" class="headerlink" title="八、网络管理"></a>八、网络管理</h2><h3 id="8-1-ip-addr-IP配置信息"><a href="#8-1-ip-addr-IP配置信息" class="headerlink" title="8.1 ip addr IP配置信息"></a>8.1 ip addr IP配置信息</h3><ol>
<li><p>配置联网</p>
<ul>
<li><p>查看当前网卡名称 (ip addr)</p>
<p><a href="/postImages/IPADDR.png" data-fancybox="group" data-caption="avatar" class="fancybox"><img alt="avatar" title="avatar" data-src="/postImages/IPADDR.png" class="lazyload"></a></p>
</li>
<li><p>进入网络配置文件的目录(cd /etc/sysconfig/network-scripts) (ls)</p>
</li>
<li><p>编辑网络配置文件(vi ifcfg-ens33)</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">修改配置文件：</span><br><span class="line">BOOTPROTO&#x3D;static</span><br><span class="line">ONBOOT&#x3D;yes</span><br><span class="line">添加：</span><br><span class="line">IPADDR&#x3D;本机IP</span><br><span class="line">NETMASK&#x3D;255.255.255.0</span><br><span class="line">GATEWAY&#x3D;NAT模式网关IP</span><br><span class="line">DNS1&#x3D;8.8.8.8</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>再重新启动网络配置(service network restart)</p>
</li>
<li><p>测试网络是否畅通(本地PING 虚拟机IP，虚拟机ping外网)</p>
</li>
</ul>
</li>
</ol>
<h3 id="8-2-ping-计算机连通性"><a href="#8-2-ping-计算机连通性" class="headerlink" title="8.2 ping 计算机连通性"></a>8.2 ping 计算机连通性</h3><p>测试本机与网络中其他计算机的连通性。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ping wangbowen.cn</span><br><span class="line">PING wangbowen.cn (47.107.232.108) 56(84) bytes of data.</span><br><span class="line">64 bytes from 47.107.232.108 (47.107.232.108): icmp_seq&#x3D;1 ttl&#x3D;128 time&#x3D;24.0 ms</span><br><span class="line">64 bytes from 47.107.232.108 (47.107.232.108): icmp_seq&#x3D;2 ttl&#x3D;128 time&#x3D;22.6 ms</span><br><span class="line">64 bytes from 47.107.232.108 (47.107.232.108): icmp_seq&#x3D;3 ttl&#x3D;128 time&#x3D;23.1 ms</span><br></pre></td></tr></table></figure></div>



<h3 id="8-3-netstat-网络-端口-状态"><a href="#8-3-netstat-网络-端口-状态" class="headerlink" title="8.3 netstat 网络(端口)状态"></a>8.3 netstat 网络(端口)状态</h3><ol>
<li><p>安装</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ sudo yum install -y net-tools</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>查看</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ netstat</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>查看端口占用情况</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ netstat -lntp</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<h3 id="8-4-hostname-hosts-主机名、映射"><a href="#8-4-hostname-hosts-主机名、映射" class="headerlink" title="8.4 hostname/hosts 主机名、映射"></a>8.4 hostname/hosts 主机名、映射</h3><ol>
<li><p>更改主机名</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;hostname</span><br><span class="line">将里面的内容替换为需要的主机名</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>配置主机名(域名)映射文件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;hosts</span><br><span class="line">新增：</span><br><span class="line">127.0.0.1 localhost</span><br><span class="line">192.168.xxx.xxx XXX</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<h3 id="8-5-firewalld-防火墙"><a href="#8-5-firewalld-防火墙" class="headerlink" title="8.5 firewalld 防火墙"></a>8.5 firewalld 防火墙</h3><ol>
<li><p>服务的启动与关闭</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl enable firewalld.service	&#x2F;&#x2F;&quot;开机启动&quot;启用</span><br><span class="line">systemctl disable firewalld.service	&#x2F;&#x2F;&quot;开机自启&quot;禁用</span><br><span class="line">systemctl start firewalld.service	&#x2F;&#x2F;启动防火墙</span><br><span class="line">systemctl stop firewalld.service	&#x2F;&#x2F;停止防火墙</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>重新加载配置</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>查看状态</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl status firewalld.service	&#x2F;&#x2F;查看防火墙状态</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>查看所有配置</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --list-all</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>查看当前开放的端口</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --list-ports</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>查看某个端口是否开放</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --query-port&#x3D;80&#x2F;tcp</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>开放指定端口</p>
<p>以开放80端口为例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --add-port&#x3D;80&#x2F;tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>移除端口</p>
<p>以开放80端口为例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --remove-port&#x3D;80&#x2F;tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>查看允许指定IP访问的端口规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --list-rich-rules</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>开放指定端口（只允许指定IP访问）</p>
<p>以“只允许192.168.1.1的主机连接3306端口”为例:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --add-rich-rule&#x3D;&quot;rule family&#x3D;&quot;ipv4&quot; source address&#x3D;&quot;192.168.1.1&quot; port protocol&#x3D;&quot;tcp&quot; port&#x3D;&quot;3306&quot; accept&quot; --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>移除端口（只允许指定IP访问）</p>
<p>以“移除只允许192.168.1.1的主机连接3306端口”为例:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">firewall-cmd --remove-rich-rule&#x3D;&quot;rule family&#x3D;&quot;ipv4&quot; source address&#x3D;&quot;192.168.1.1&quot; port protocol&#x3D;&quot;tcp&quot; port&#x3D;&quot;3306&quot; accept&quot; --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure></div>



</li>
</ol>
<h2 id="九、程序命令"><a href="#九、程序命令" class="headerlink" title="九、程序命令"></a>九、程序命令</h2><h3 id="9-1-运行时获取信息方式"><a href="#9-1-运行时获取信息方式" class="headerlink" title="9.1 运行时获取信息方式"></a>9.1 运行时获取信息方式</h3><ol>
<li><p>配置文件</p>
<p>一般较复杂的程序会提供配置文件以存储配置信息或者偏好配置信息，分为系统级偏好设置和用户级偏好设置。</p>
</li>
</ol>
<p>   例如 bash 的 <strong>/etc/profile</strong> 和 <strong>~.bash_profile</strong> </p>
<p>   配置文件提供了灵活性(同一个程序文件因用户不同读取的配置文件不同而表现不同),变更这些信息不很方便,一般不需要变化的配置信息或选项信息存入配置文件,持久化存储</p>
<ol start="2">
<li><p>环境变量</p>
<p>命令env可以打印出当前的环境变量。</p>
<p>一般是些与“环境”相关的配置或选项信息,信息量不大。这些选择在一段时间内反复使用同一个命令或者不同命令时保持不变。</p>
<p>虽然运行的程序(可执行文件)是完全相同的一个文件,程序通过获得环境变量感知环境的不同,控制自己的行为。</p>
<p>性能问题：比读取配置文件需要的系统开支要小。（但是越来越多的用配置文件）</p>
</li>
<li><p>命令行参数（三种风格）</p>
<ul>
<li><p>类似find和gcc的风格（gcc -O0 -Wall -c shudu.c）</p>
</li>
<li><p>类似dd命令风格（dd if=/dev/urandom of=test.dat）</p>
</li>
<li><p>类似ls和grep风格（现今流行）</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls --classify --all --site --human-readable --width&#x3D;80 &#x2F;home&#x2F;jiang长选项</span><br><span class="line">ls -Fashw80 &#x2F;home&#x2F;jiang   多个选项挤在一起</span><br><span class="line">ls -F -a -s -h -w 80 &#x2F;home&#x2F;jiang  多个选项分开</span><br><span class="line">ls -F -w80 &#x2F;home&#x2F;jiang -has  可以把选项放到后面</span><br><span class="line">用独立的命令行参数--显式地标识选项结束</span><br><span class="line">选项的处理统一由C语言标准动态链接库libc.so中库 getopt函数_long()完成</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
</li>
<li><p>人机交互方式（Linux很少用）如C语言的scanf</p>
</li>
</ol>
<h3 id="9-2-启动-bash"><a href="#9-2-启动-bash" class="headerlink" title="9.2 启动 bash"></a>9.2 启动 bash</h3><p><strong>自动执行的一批命令</strong></p>
<p><strong>用户偏好</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@centos7 &#x2F;home&#x2F;wbw]$ls -al</span><br><span class="line">total 48</span><br><span class="line">drwx------. 15 wbw  wbw  4096 Apr 22 13:09 .</span><br><span class="line">drwxr-xr-x.  5 root root   45 Mar 20 22:17 ..</span><br><span class="line">-rw-------.  1 wbw  wbw  2663 Apr 16 23:36 .bash_history</span><br><span class="line">-rw-r--r--.  1 wbw  wbw    18 Aug  8  2019 .bash_logout</span><br><span class="line">-rw-r--r--.  1 wbw  wbw   193 Aug  8  2019 .bash_profile</span><br><span class="line">-rw-r--r--.  1 wbw  wbw   258 Mar 11 23:56 .bashrc</span><br></pre></td></tr></table></figure></div>

<ul>
<li>当bash作为注册shell被启动时：自动执行用户主目录下的 <strong>.bash_profile</strong></li>
<li>退出时： <strong>.bash_logout</strong></li>
<li>交互式： <strong>.bashrc</strong></li>
</ul>
<p><strong>系统级</strong></p>
<ul>
<li>注册shell（启动时）：/etc/profile</li>
<li>交互式shell：/etc/bash.bashrc</li>
<li>注册shell（退出时）：/etc/bash.bash.logou</li>
</ul>
<h3 id="9-3-Shell-编程"><a href="#9-3-Shell-编程" class="headerlink" title="9.3 Shell 编程"></a>9.3 Shell 编程</h3><h4 id="9-3-1-变量"><a href="#9-3-1-变量" class="headerlink" title="9.3.1 变量"></a>9.3.1 变量</h4><ul>
<li><p>变量名和等号之间不能有空格。</p>
</li>
<li><p>不能使用bash里的关键字（可用help命令查看保留关键字）</p>
</li>
</ul>
<p><strong>赋值（定义变量）</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">addr=1.1.1.1</span><br></pre></td></tr></table></figure></div>

<p><strong>引用（使用变量）</strong></p>
<p>使用一个定义过的变量，只要在变量名前面加美元符号即可。但注意，第二次赋值的时候不能写$your_name=”alibaba”，使用变量的时候才加美元符。</p>
<p>命令行中有$符号的变量引用，会先被完成替换。</p>
<p>引用未定义的变量，变量值为空字符串。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">addr 或 <span class="variable">$&#123;addr&#125;</span></span></span><br></pre></td></tr></table></figure></div>

<p><strong>只读变量</strong></p>
<p> 使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">myUrl="http://www.google.com"</span><br><span class="line">readonly myUrl</span><br></pre></td></tr></table></figure></div>

<p><strong>删除变量</strong></p>
<p>使用 unset 命令可以删除变量。语法：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">unset variable_name</span><br></pre></td></tr></table></figure></div>

<p>变量被删除后不能再次使用。unset 命令不能删除只读变量。</p>
<h4 id="9-3-2-命令替换"><a href="#9-3-2-命令替换" class="headerlink" title="9.3.2 命令替换"></a>9.3.2 命令替换</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">now=`date`</span><br><span class="line"><span class="meta">#</span><span class="bash"> 以date命令的stdout替换`date`</span></span><br></pre></td></tr></table></figure></div>



<h4 id="9-3-3-位置参数"><a href="#9-3-3-位置参数" class="headerlink" title="9.3.3 位置参数"></a>9.3.3 位置参数</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">0		<span class="comment"># 脚本文件本身的名字</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">1 <span class="variable">$2</span>	<span class="comment"># 第一个命令行参数、第二个命令行参数</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="comment">#		# 命令行参数的个数</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">*		<span class="comment"># 等同于 "$1 $2 ..."，把所有参数连在一起的字符串</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">@		<span class="comment"># 等同于 "$1" "$2" ...，用于把变长的命令行参数传递给其他命令</span></span></span><br><span class="line">shift	# 左移，即丢弃第一个参数，第二个参数代替第一个参数。以此类推</span><br></pre></td></tr></table></figure></div>



<h4 id="9-3-4-字符串"><a href="#9-3-4-字符串" class="headerlink" title="9.3.4 字符串"></a>9.3.4 字符串</h4><p><strong>单引号</strong></p>
<p>单引号字符串的限制：</p>
<ul>
<li><p>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</p>
</li>
<li><p>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为<strong>字符串拼接</strong>使用。</p>
<p>示例：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 打印：Don<span class="string">'t remvoe dir "C:\PETER"!</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="built_in">echo</span> <span class="string">'Don'</span>\<span class="string">''</span>t remove dir <span class="string">"C:\PETER"</span><span class="string">'</span></span></span><br></pre></td></tr></table></figure></div>

</li>
</ul>
<p><strong>双引号</strong></p>
<p>除$和`外特殊字符的特殊含义被取消，用于替换。需要转义的有：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">\&quot;</span><br><span class="line">\$</span><br><span class="line">\&#39;</span><br><span class="line">\\</span><br></pre></td></tr></table></figure></div>

<p><strong>字符串长度</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">string="abcd"</span><br><span class="line">echo $&#123;#string&#125; #输出 4</span><br></pre></td></tr></table></figure></div>

<p><strong>子字符串</strong></p>
<p>以下实例从字符串第 <strong>2</strong> 个字符开始截取 <strong>4</strong> 个字符：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">string="runoob is a great site"</span><br><span class="line">echo $&#123;string:1:4&#125; # 输出 unoo</span><br></pre></td></tr></table></figure></div>

<p><strong>注意</strong>：第一个字符的索引值为 <strong>0</strong>。</p>
<h4 id="9-3-5-数组"><a href="#9-3-5-数组" class="headerlink" title="9.3.5 数组"></a>9.3.5 数组</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">my_array=(A B "C" D)</span><br><span class="line"></span><br><span class="line">echo "第一个元素为: $&#123;my_array[0]&#125;"</span><br></pre></td></tr></table></figure></div>



<h4 id="9-3-6-注释"><a href="#9-3-6-注释" class="headerlink" title="9.3.6 注释"></a>9.3.6 注释</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># .....</span><br></pre></td></tr></table></figure></div>



<h4 id="9-3-7-流程控制"><a href="#9-3-7-流程控制" class="headerlink" title="9.3.7 流程控制"></a>9.3.7 流程控制</h4><p>可以用 [ ] 来作为一个条件判断！？</p>
<p>命令组合的两种方式：</p>
<ul>
<li>{ list;}  ：<ul>
<li>在当前shell中执行一组命令。</li>
<li>左花括号后必须有一个空格！</li>
<li>多行并为一行一定要注意有分号</li>
</ul>
</li>
<li>(list)     ：在子shell中执行一组命令</li>
</ul>
<h5 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h5><p>test 文件特性检查</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">test -t &#x2F;etc&#x2F;motd		# 判断该文件是否可读可执行</span><br><span class="line">[ -r &#x2F;etc&#x2F;mortd ]		# [是一个命令，要有空格</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">-f：普通文件</span><br><span class="line">-d：目录文件</span><br><span class="line">-r：可读</span><br><span class="line">-w：可写</span><br><span class="line">-x：可执行</span><br><span class="line">-s：size&gt;0</span><br></pre></td></tr></table></figure></div>



<p>字符串的比较</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 注意！一定要在等号左右加空格</span><br><span class="line">str1 &#x3D; str2</span><br><span class="line">str1 !&#x3D; str2</span><br></pre></td></tr></table></figure></div>



<p>整数的比较</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-eq		&#x3D;</span><br><span class="line">-ne		!&#x3D;</span><br><span class="line">-gt		&gt;</span><br><span class="line">-ge		&gt;&#x3D;</span><br><span class="line">-lt		&lt;</span><br><span class="line">-le		&lt;&#x3D;</span><br></pre></td></tr></table></figure></div>



<p>复合条件</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">!	:NOT（非）</span><br><span class="line">-o	:OR（或）</span><br><span class="line">-a	:AND（与）</span><br></pre></td></tr></table></figure></div>



<h5 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h5><p><strong>if</strong></p>
<p>if 语句语法格式：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if condition</span><br><span class="line">then</span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN </span><br><span class="line">fi</span><br></pre></td></tr></table></figure></div>

<p>写成一行（适用于终端命令提示符）：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if [ $(ps -ef | grep -c &quot;ssh&quot;) -gt 1 ]; then echo &quot;true&quot;; fi</span><br></pre></td></tr></table></figure></div>

<p>末尾的fi就是if倒过来拼写，后面还会遇到类似的。</p>
<p><strong>TIP：</strong>有时候为了图方便也可以这样</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[ true ] &amp;&amp; command</span><br><span class="line">如果条件正确，执行command</span><br></pre></td></tr></table></figure></div>



<p><strong>if else</strong></p>
<p>if else 语法格式：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if condition</span><br><span class="line">then</span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">else</span><br><span class="line">    command</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></div>

<p><strong>if else-if else</strong></p>
<p>if else-if else 语法格式：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if condition1</span><br><span class="line">then</span><br><span class="line">    command1</span><br><span class="line">elif condition2 </span><br><span class="line">then </span><br><span class="line">    command2</span><br><span class="line">else</span><br><span class="line">    commandN</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></div>

<p>以下实例判断两个变量是否相等：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a&#x3D;10</span><br><span class="line">b&#x3D;20</span><br><span class="line">if [ $a &#x3D;&#x3D; $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a 等于 b&quot;</span><br><span class="line">elif [ $a -gt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a 大于 b&quot;</span><br><span class="line">elif [ $a -lt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a 小于 b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;没有符合的条件&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></div>

<p>输出结果：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a 小于 b</span><br></pre></td></tr></table></figure></div>

<p>if else语句经常与test命令结合使用，如下所示：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">num1&#x3D;$[2*3]</span><br><span class="line">num2&#x3D;$[1+5]</span><br><span class="line">if test $[num1] -eq $[num2]</span><br><span class="line">then</span><br><span class="line">    echo &#39;两个数字相等!&#39;</span><br><span class="line">else</span><br><span class="line">    echo &#39;两个数字不相等!&#39;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></div>

<p>输出结果：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">两个数字相等!</span><br></pre></td></tr></table></figure></div>



<h5 id="case-多条件分支"><a href="#case-多条件分支" class="headerlink" title="case 多条件分支"></a>case 多条件分支</h5><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">case word in</span><br><span class="line">  pattern1) list1;;</span><br><span class="line">  pattern2) list2;;</span><br><span class="line">  ...</span><br><span class="line">  *) list3;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></div>

<p>其中;;是一个整体</p>
<h5 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h5><p>与其他编程语言类似，Shell支持for循环。有break,break2,continue,exit 0(返回码，不一定是0)</p>
<p>for循环一般格式为：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for var in item1 item2 ... itemN</span><br><span class="line">do</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">done</span><br></pre></td></tr></table></figure></div>

<p>写成一行：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for var in item1 item2 ... itemN; do command1; command2… done;</span><br></pre></td></tr></table></figure></div>

<p>当变量值在列表里，for循环即执行一次所有命令，使用变量名获取列表中的当前取值。命令可为任何有效的shell命令和语句。in列表可以包含替换、字符串和文件名。</p>
<p>in列表是可选的，如果不用它，for循环使用命令行的位置参数。</p>
<p>例如，顺序输出当前列表中的数字：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line">    echo &quot;The value is: $loop&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure></div>

<p>输出结果：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The value is: 1</span><br><span class="line">The value is: 2</span><br><span class="line">The value is: 3</span><br><span class="line">The value is: 4</span><br><span class="line">The value is: 5</span><br></pre></td></tr></table></figure></div>

<p>顺序输出字符串中的字符：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for str in &#39;This is a string&#39;</span><br><span class="line">do</span><br><span class="line">    echo $str</span><br><span class="line">done</span><br></pre></td></tr></table></figure></div>

<p>输出结果：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">This is a string</span><br></pre></td></tr></table></figure></div>



<p>*<em>没有 for (i=0;i&lt;n;i++)语法，但是可以用seq命令生成序列： *</em></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">for i in &#96;seq 1 254&#96;</span><br><span class="line">do</span><br><span class="line">  ...</span><br><span class="line">done</span><br></pre></td></tr></table></figure></div>



<h5 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a>while 语句</h5><p>while循环用于不断执行一系列命令，也用于从输入文件中读取数据；命令通常为测试条件。其格式为：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">while condition</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br></pre></td></tr></table></figure></div>

<p>以下是一个基本的while循环，测试条件是：如果int小于等于5，那么条件返回真。int从0开始，每次循环处理时，int加1。运行上述脚本，返回数字1到5，然后终止。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">int&#x3D;1</span><br><span class="line">while(( $int&lt;&#x3D;5 ))</span><br><span class="line">do</span><br><span class="line">    echo $int</span><br><span class="line">    let &quot;int++&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure></div>

<p>运行脚本，输出：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure></div>

<p>以上实例使用了 Bash let 命令，它用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量，具体可查阅：<a href="https://www.runoob.com/linux/linux-comm-let.html" target="_blank" rel="noopener">Bash let 命令</a></p>
<h4 id="9-3-8-expr-表达式运算"><a href="#9-3-8-expr-表达式运算" class="headerlink" title="9.3.8 expr 表达式运算"></a>9.3.8 expr 表达式运算</h4><p>shell不支持除字符串意外的数据类型，不支持四则运算等！需要这些功能，借助于shell外的可执行程序/usr/bin/expr实现，为了提高执行效率这里内置了。也可以实现自己的命令来达到复杂运算的目的。</p>
<p>如果直接进行运算会出问题，简单的加法运算如下，需要用到expr命令：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">shell</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">x=`expr 1 + 2`</span><br><span class="line">echo "$&#123;x&#125;"</span><br></pre></td></tr></table></figure></div>



<p>运算表达式：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">括号</span><br><span class="line">()</span><br><span class="line">算数运算</span><br><span class="line">+ - * &#x2F; %</span><br><span class="line">关系运算</span><br><span class="line">&gt; &gt;&#x3D; &lt; &lt;&#x3D; &#x3D; !&#x3D;</span><br><span class="line">逻辑运算</span><br><span class="line">| &amp;</span><br><span class="line">正则表达式运算</span><br><span class="line">&quot;待匹配字符串&quot; : &#39;匹配模式&#39;</span><br></pre></td></tr></table></figure></div>

<p><strong>注意：</strong></p>
<ul>
<li><p>应该有空格的地方不允许漏掉</p>
</li>
<li><p>应该转义的地方必须要加反斜线，如计算 3*(1+2),和1&lt;2判断：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">x&#x3D;&#96;expr 3 \* \( 1 + 2 \)&#96;</span><br><span class="line">echo &quot;x &#x3D; $&#123;x&#125;, &#96;expr 1 \&lt; 2&#96;&quot;</span><br><span class="line"></span><br><span class="line"># 这里的*会被翻译成通配，所以要转移成普通的*表示乘法运算</span><br><span class="line"># 这里&lt;是重定向，因此需要转移</span><br></pre></td></tr></table></figure></div>



</li>
</ul>
<h4 id="9-3-9-eval-命令"><a href="#9-3-9-eval-命令" class="headerlink" title="9.3.9 eval 命令"></a>9.3.9 eval 命令</h4><p>将参数以命令的方式运行：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">read line</span><br><span class="line">eval &quot;$line&quot;</span><br></pre></td></tr></table></figure></div>

<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">输入 </span><br><span class="line">echo hello world</span><br><span class="line"></span><br><span class="line">结果</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure></div>



<h4 id="9-3-10-函数"><a href="#9-3-10-函数" class="headerlink" title="9.3.10 函数"></a>9.3.10 函数</h4><p>语法：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">name() &#123;list;&#125;</span><br></pre></td></tr></table></figure></div>

<p>参数引用：</p>
<ul>
<li><p>函数定义完成后，该函数名作为一个自定义内部命令执行，后面可以调用。</p>
</li>
<li><p>调用时函数名后附加上0到多个参数</p>
</li>
<li><p>在函数体内部以$1 , $2 等方式引用</p>
</li>
</ul>
<p>返回值</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">return 0</span><br><span class="line"></span><br><span class="line">0: 成功</span><br><span class="line">非0：失败</span><br></pre></td></tr></table></figure></div>



<h2 id="十、文件系统"><a href="#十、文件系统" class="headerlink" title="十、文件系统"></a>十、文件系统</h2><h3 id="10-1-文件系统的创建和安装（挂载）"><a href="#10-1-文件系统的创建和安装（挂载）" class="headerlink" title="10.1 文件系统的创建和安装（挂载）"></a>10.1 文件系统的创建和安装（挂载）</h3><h4 id="10-1-1-U盘挂载"><a href="#10-1-1-U盘挂载" class="headerlink" title="10.1.1 U盘挂载"></a>10.1.1 U盘挂载</h4><p>教程：<a href="https://www.jianshu.com/p/74b8a204b36f" target="_blank" rel="noopener">https://www.jianshu.com/p/74b8a204b36f</a></p>
<p>主要命令</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fdisk -l		&#x2F;&#x2F; 列表</span><br><span class="line">mount			&#x2F;&#x2F; 安装</span><br><span class="line">umount [-l]		&#x2F;&#x2F; 卸载</span><br></pre></td></tr></table></figure></div>



<h4 id="10-1-2-新增磁盘"><a href="#10-1-2-新增磁盘" class="headerlink" title="10.1.2 新增磁盘"></a>10.1.2 新增磁盘</h4><p>教程：<a href="https://blog.csdn.net/hanpengyu/article/details/7475645" target="_blank" rel="noopener">https://blog.csdn.net/hanpengyu/article/details/7475645</a></p>
<p>主要命令</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fdisk</span><br><span class="line">mkfs [-t]</span><br></pre></td></tr></table></figure></div>



<h3 id="10-2-文件系统的结构"><a href="#10-2-文件系统的结构" class="headerlink" title="10.2 文件系统的结构"></a>10.2 文件系统的结构</h3><p>把整个逻辑设备以块（扇区）为单位划分，编号0，1，2……（每块512字节或其他更大的2^n字节大小，因此不能取1字节，最小也要取512）</p>
<p><a href="/postImages/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84.png" data-fancybox="group" data-caption="avatar" class="fancybox"><img alt="avatar" title="avatar" data-src="/postImages/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84.png" class="lazyload"></a></p>
<ul>
<li><p>引导块(0号块)：用于启动系统,只有根文件系统的引导块有效</p>
</li>
<li><p>专用块(1号块)：也叫管理块,或者超级块</p>
<ul>
<li><p>存放文件系统的管理信息。</p>
<p>如:文件系统的大小,i节点区的大小,空闲空间大小,空闲块链表的头等等</p>
</li>
<li><p>mkfs命令时初始化,df命令读出部分信息,df-i和df</p>
</li>
</ul>
</li>
<li><p>i节点区：i节点(index node,简记为i-node)</p>
<ul>
<li><p>每个文件都对应一个i节点,i节点中的信息包括:</p>
<p>指向文件存储区数据块的一些索引(index)</p>
<p>指针(组成文件的逻辑块与硬盘的物理块之间的映射)</p>
<p>文件类型,属主,组,权限,link数,大小,时戳(i节点内不含文件名)</p>
</li>
<li><p>i节点信息查看</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[wbw@s201 &#x2F;home&#x2F;wbw]$stat anthorized_keys </span><br><span class="line">  File: ‘anthorized_keys’</span><br><span class="line">  Size: 390       	Blocks: 8          IO Block: 4096   regular file</span><br><span class="line">Device: fd00h&#x2F;64768d	Inode: 17284854    Links: 1</span><br><span class="line">Access: (0664&#x2F;-rw-rw-r--)  Uid: ( 1000&#x2F;     wbw)   Gid: ( 1000&#x2F;     wbw)</span><br><span class="line">Context: unconfined_u:object_r:user_home_t:s0</span><br><span class="line">Access: 2020-02-26 21:08:42.211841272 +0800</span><br><span class="line">Modify: 2020-02-26 21:09:17.293839845 +0800</span><br><span class="line">Change: 2020-02-26 21:09:17.293839845 +0800</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
</li>
<li><p>数据存储块：每块可容若干个i节点,每个节点的大小是固定的(比如64字节)</p>
</li>
</ul>
<h3 id="10-3-目录存储结构"><a href="#10-3-目录存储结构" class="headerlink" title="10.3 目录存储结构"></a>10.3 目录存储结构</h3><ul>
<li><p>目录表</p>
<ul>
<li><p>每个目录表也作为一个文件来管理，存于“文件存储区”种，有其自己的i节点和数据存储块</p>
</li>
<li><p>目录表由若干个“目录项”构成，目录项只含有两部分信息：文件名，i节点号</p>
<p>目录表和i节点两级结构：</p>
<p><a href="/postImages/%E7%9B%AE%E5%BD%95%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84.png" data-fancybox="group" data-caption="avatar" class="fancybox"><img alt="avatar" title="avatar" data-src="/postImages/%E7%9B%AE%E5%BD%95%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84.png" class="lazyload"></a></p>
<ul>
<li>目的：分开存放为了提高目录检索效率</li>
</ul>
</li>
<li><p>用ls命令列出的目录大小是目录表文件本身的长度</p>
</li>
</ul>
</li>
<li><p>软（硬）链接：参考 <strong>4.9 ln 链接</strong></p>
</li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">IT小王</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://wangbowen.cn/2020/02/28/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">https://wangbowen.cn/2020/02/28/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wangbowen.cn">IT小王</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux    </a></div><div class="post_share"><div class="social-share" data-image="/postImages/LinuxCover.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/03/02/Oracle%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="prev_cover lazyload" data-src="/postImages/OracleCover.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>Oracle学习笔记</span></div></a></div><div class="next-post pull_right"><a href="/2020/02/27/Hive%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="next_cover lazyload" data-src="/postImages/HiveCover.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>Hive学习笔记</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/03/11/CentOS7下FTP安装与配置/" title="CentOS7下FTP安装与配置"><img class="relatedPosts_cover lazyload"data-src="/postImages/LinuxCover.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-11</div><div class="relatedPosts_title">CentOS7下FTP安装与配置</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/16/CentOS7之GRUB相关操作/" title="CentOS7之GRUB相关操作"><img class="relatedPosts_cover lazyload"data-src="/postImages/LinuxCover.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-16</div><div class="relatedPosts_title">CentOS7之GRUB相关操作</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/23/CentOS7搭建Samba/" title="CentOS7搭建Samba"><img class="relatedPosts_cover lazyload"data-src="/postImages/LinuxCover.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-23</div><div class="relatedPosts_title">CentOS7搭建Samba</div></div></a></div><div class="relatedPosts_item"><a href="/2019/09/17/Linux基础操作/" title="Linux基础操作"><img class="relatedPosts_cover lazyload"data-src="/postImages/LinuxCover.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-09-17</div><div class="relatedPosts_title">Linux基础操作</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = false == true ? true : false;
var verify = false == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'iYYoev4NDSyr3HqlY1VVCTIV-gzGzoHsz',
  appKey:'Hli8dWTFUKrXj9FnhnSQUvRe',
  placeholder:'快来评论吖！ヾﾉ≧∀≦)o',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By IT小王</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="icp"><a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"><span>闽ICP备18027071号-1</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="ribbon" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>